<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>環境構築 &mdash; Sphinx  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=c033477b"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=4dbe4bdc"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Sphinx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="0.html">〜研修へようこそ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sphinx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">環境構築</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/src/01.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="環境構築">
<h1>環境構築<a class="headerlink" href="#環境構築" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">japanize</span><span class="o">-</span><span class="n">matplotlib</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Collecting japanize-matplotlib
  Downloading japanize-matplotlib-1.1.3.tar.gz (4.1 MB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">4.1/4.1 MB</span> <span class="ansi-red-fg">12.3 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
  Preparing metadata (setup.py) ... done
Requirement already satisfied: matplotlib in /usr/local/lib/python3.10/dist-packages (from japanize-matplotlib) (3.7.1)
Requirement already satisfied: contourpy&gt;=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (1.2.1)
Requirement already satisfied: cycler&gt;=0.10 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (4.51.0)
Requirement already satisfied: kiwisolver&gt;=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (1.4.5)
Requirement already satisfied: numpy&gt;=1.20 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (1.25.2)
Requirement already satisfied: packaging&gt;=20.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (24.0)
Requirement already satisfied: pillow&gt;=6.2.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (9.4.0)
Requirement already satisfied: pyparsing&gt;=2.3.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (3.1.2)
Requirement already satisfied: python-dateutil&gt;=2.7 in /usr/local/lib/python3.10/dist-packages (from matplotlib-&gt;japanize-matplotlib) (2.8.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil&gt;=2.7-&gt;matplotlib-&gt;japanize-matplotlib) (1.16.0)
Building wheels for collected packages: japanize-matplotlib
  Building wheel for japanize-matplotlib (setup.py) ... done
  Created wheel for japanize-matplotlib: filename=japanize_matplotlib-1.1.3-py3-none-any.whl size=4120257 sha256=0b00d71a5434c3debaaf3411efbaf5f79766986fc755d9b5bbce76186ce1c4f4
  Stored in directory: /root/.cache/pip/wheels/61/7a/6b/df1f79be9c59862525070e157e62b08eab8ece27c1b68fbb94
Successfully built japanize-matplotlib
Installing collected packages: japanize-matplotlib
Successfully installed japanize-matplotlib-1.1.3
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">japanize_matplotlib</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span><span class="p">,</span> <span class="n">mean_absolute_error</span><span class="p">,</span><span class="n">mean_squared_error</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;/content/drive/Othercomputers/マイ Mac/Documents/データサイエンス/bank_data.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="データ分析とは">
<h1>データ分析とは<a class="headerlink" href="#データ分析とは" title="Link to this heading"></a></h1>
<section id="1.-データ分析とは">
<h2>1. データ分析とは<a class="headerlink" href="#1.-データ分析とは" title="Link to this heading"></a></h2>
<p>データ分析とは収集した情報の整理、加工、取捨選択を経て分析するプロセスです。 データサイエンティストに必要なスキル <img alt="data" src="https://life-analyze24.com/wp-content/uploads/2021/04/datasyurui-768x457.png" /> 皆さんは、データサイエンティストにはどのようなイメージがあるでしょうか。 「プログラミングしながら、統計学を使って、画面に表示された大量のデータを 分析する」……そういった光景をイメージする方も多いかと存じます。 もちろんプログラミングをしてデータ分析を行うというのも、大事な工程の１つです。 しかし、それだけではデータ活用はうまく進みません。
「このデータから何が言えるのか分からない……」「このデータからどう問題解決に つなげればいいのか……」といったお悩みに繋がりがちです。 これはなぜでしょうか。 データを並べて分析する前に、「どんな問題を解決したいか」「問題を解決するのに どんなデータが必要か」など、なんのためにデータ分析を行うのか、目的がはっきり していないと、せっかくのデータがあっても、どうすればいいのかが分からなくなって
しまうからです。本講座ではメインとなるデータサイエンス力に注力し講義をお伝えしますが、同じくらいビジネス力やデータの処理能力も重要ということを抑えてください。</p>
<p>データ分析を行う理由は下記のとおりです。 1. 問題の原因を究明したり、課題を達成したりするため 2. 相手を説得するため 3. 自分ん思考を裏付けるため</p>
<p>データ分析を行うことで下記のメリットを得ることが出来る。 1. 仕事をより深く理解し、遂行力が上がる 2. 視点が多角化し、１つのデータから複数の視点を持つことが出来る 3. 経験と勘に見が気がかかる。（どんなデータが必要なのかあたりを付ける勘のこと）</p>
</section>
<section id="３．データ分析のフレームワークPPDAC">
<h2>３．データ分析のフレームワークPPDAC<a class="headerlink" href="#３．データ分析のフレームワークPPDAC" title="Link to this heading"></a></h2>
<p>ではデータ分析を行う上でどのような手順で分析を進めて行けば良いでしょうか。 おすすめの手順としてPPDAC というデータ分析のフレームワークがあります。 こちらを使用するメリットは下記のとおりです</p>
<ul class="simple">
<li><p>どこから手をつけたらいいかわからないときに手順が明確になる</p></li>
<li><p>現在位置と次に何を行うべきか、分析の全体像と進捗が明確になる</p></li>
<li><p>同じ枠組みの中で活動出来るので、メンバーの状況把握や共有がし易い</p></li>
<li><p>フレームワークのキーワードを分析の切り口として利用できる。</p></li>
</ul>
<p>PPDACサイクルとは、次の単語の頭文字をつなげたもので、海外や統計教育でもよく使われる統計的探究プロセスです。</p>
<div class="line-block">
<div class="line">P(problem、問題)：問題の把握と明確化</div>
<div class="line">P(plan、計画)：仮説の設定・調査分析の計画</div>
<div class="line">D(data、データ収集)：データの収集・整理</div>
<div class="line">A(analysis、分析)：データに基づく分析、処理</div>
<div class="line">C(conclusion、結論)：分析結果の考察、結論</div>
</div>
<p>2つのPとCの間に、D(データ収集)とA(分析)のプロセスがあるところに注目してください。明確な問題と計画の立案があってこそ、実際のデータ収集や分析を行うことができ、問題解決へ導くことができる。データ利活用を進めるにあたっての格好のフレームワークといえます。</p>
<p><em>あくまでフレームワークであり、必ずこの順番で進めないと行けないものではない</em> 本講座でははじめの段階でデータの収集ができているため、順番が入れ替わることがあります。</p>
</section>
<section id="４．研修テーマの説明">
<h2>４．研修テーマの説明<a class="headerlink" href="#４．研修テーマの説明" title="Link to this heading"></a></h2>
<p>ある銀行で営業支援を行うデータサイエンティストです。 手元にはデータは過去の定期預金加入のキャンペーンの営業データがあります。同一キャンペーンの営業データから一部をランダムに収集しています。 データには大きく３種類のデータがあります。 - 顧客情報→顧客の年齢、結婚状況、仕事 - 営業情報→どのようにアプローチしたか、いつアプローチしたか、どの営業マンがアプローチしたか - 成約情報→顧客が定期預金口座の成約をしたか否か、成約をした場合の売上（預金金額の10%が売上）</p>
<p>営業を行うには限りがあるため、データ分析を行い、効率的に営業が出来るよう支援を行いたい。</p>
<p>問題：データを活用した効率的な営業を行う 計画 - どんな顧客にアプローチすると成約率を高められるか① - どのような顧客が講座にたくさん貯金してくれるか(売上の高い顧客の要因)② - 営業マンの力量に差があるかどうか③</p>
<p>実務であればこの段階でどのような分析を行うのか方針を決めます。今回はまだ分析手法を学んでいないため、割愛します。</p>
<p>分析手法の決定のフレームワーク ## イシューツリー <img alt="data" src="https://life-analyze24.com/wp-content/uploads/2021/04/datasyurui-768x457.png" /></p>
<div class="line-block">
<div class="line">イシューツリーを使用することによって、必要なデータや、データ処理方法を効率化することができます。</div>
<div class="line">例えば真ん中の「販売力が弱くなった」という仮説に注目します。</div>
<div class="line">この販売力が弱くなったことを証明するためにはどのようなデータが必要でしょうか、またどのような分析をしたら良いでしょうか？</div>
</div>
<div class="line-block">
<div class="line">例えば 営業の知識テスト結果</div>
<div class="line">過去の営業データ</div>
<div class="line">現在の営業データ</div>
<div class="line">商談時間のデータ</div>
</div>
<p>これらのようなデータを用意し、検定や知識テストの結果と営業データに相関関係があるのかなどの分析を行うことによって、販売力が弱くなってしまったことを証明することができ、営業マンの育成に注力することにより、売上の向上が期待出来るかもしれません。</p>
<p>このように大枠の問題から課題を細分化し、分析の方向性の決定を行います。ビジネスの理解やビジネス力が重要になります。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#不要列の削除</span>
<span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Unnamed: 18&#39;</span><span class="p">,</span><span class="s1">&#39;Unnamed: 19&#39;</span><span class="p">,</span><span class="s1">&#39;Unnamed: 20&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-5c4bbff9-0b3e-4a2e-a938-bd054500eb81" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>列1</th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2343.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>45.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>1270.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.0</td>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2476.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.0</td>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>184.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-5c4bbff9-0b3e-4a2e-a938-bd054500eb81')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-5c4bbff9-0b3e-4a2e-a938-bd054500eb81 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-5c4bbff9-0b3e-4a2e-a938-bd054500eb81');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-4d562c12-313c-4dad-a7c8-8f4658ef2fee">
  <button class="colab-df-quickchart" onclick="quickchart('df-4d562c12-313c-4dad-a7c8-8f4658ef2fee')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-4d562c12-313c-4dad-a7c8-8f4658ef2fee button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="line-block">
<div class="line">では、次のステップに進みます。 ここではデータの収集収集と整理を行い、収集されたデータに対しての理解を深めます。</div>
<div class="line">グラフ化などは一部、分析と重複する部分もありますがデータの理解という文脈でも使用できます。</div>
</div>
</section>
<section id="効率の良いデータ収集">
<h2>効率の良いデータ収集<a class="headerlink" href="#効率の良いデータ収集" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">本講座ではデモデータがありますが、実務においてはじめからデータが用意されていることはそう多くはありません、データ収集の考え方として、集めやすいデータから集めるといった考え方があります。</div>
<div class="line">前提として、データは大きく一次データと二次データがあります。</div>
</div>
<ul>
<li><p>一次データ：目的に沿って新たに収集されるデータ、収集には時間とコストがかかる。例えば分析の目的に合わせたアンケートデータなど</p></li>
<li><div class="line-block">
<div class="line">二次データ:他の目的によってすでに収集済みのデータ。具体的には通常業務で収集されている、販売データや顧客データ、官公庁などの統計データなどがあります。</div>
<div class="line">必ずしも目的にあったデータではないため、加工や個人情報が含まれるデータを扱う際には注意が必要です。</div>
</div>
</li>
</ul>
<p>データはやみくもに収集してはいけません。先程紹介したイシューツリーを使用して、大枠の問題を頂点として、考えられる要因や仮説、それらを検証するデータと展開を行います。</p>
<div class="line-block">
<div class="line">そして、データがしぼられてきたら、二次データのようなすぐに収集出来るデータを優先して集めます。</div>
<div class="line">データソースは内部だけではなく、外部のデータも候補に入れます。</div>
<div class="line">そして全てのデータが集まらなくても、集まったで０他だけで出来る仮説の検証を始めます。</div>
</div>
</section>
<section id="データ処理する">
<h2>データ処理する<a class="headerlink" href="#データ処理する" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">ここで伝える処理というのは検定や分析ではありません。 2次データを収集し分析をしようとすると、そもそものデータが分析の目的で集められているわけではないため、関係のないデータが混在しています。</div>
<div class="line">このようなデータ取捨選択する必要があります。</div>
</div>
<p>ポイント - 必要最低限必要なデータより余裕をもたせる 検証・分析に必要なデータに絞り込むのではなく、幅をもたせます。分析や検証を行っていくと違う切り口で分析をしたりすることがあります。例えばあるAという商品を分析する時、Aの販売データだけではなく、同じ系列や競合のデータがあることによってより多角な検証を行うことが可能になります。</p>
<ul class="simple">
<li><p>必要に応じて異常値を取り除く 明らかに他のデータより値が大きかったりすることがあります。このような異常値のデータは分析や検証を行う上でマイナスの要因となってします可能性があります。
例えば、自然災害などの発生により集客ができなかったなど、このように突然発生するインシデントにより異常値が入っていたり、入力ミスなどで異常値が含まれることがあります。
異常値に対する分析が必要なこともありますので適宜判断を行う必要があります。散布図などにプロットすることによって異常値を見つけやすくなります。 また、外れ値除去の方法として３シグマ法等といった手法もあります。こちらはより発展的な内容ですので名前だけ紹介します。</p></li>
</ul>
</section>
<section id="データの理解をする">
<h2>データの理解をする<a class="headerlink" href="#データの理解をする" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">データの取捨選択と平行しながらデータの理解を進めます。</div>
<div class="line">実際に収集したデータがどのようなデータなのかわからないと、分析や検証を行うこともできません。データは必要に応じてグラフ化をしたり、ピボットテーブルを作成することによってより、データに対する理解を深めることができます。</div>
<div class="line">結果によっては新たな仮説を立てることもあります。</div>
<div class="line">では、本講座で使用する銀行のデータを見てみましょう。</div>
</div>
</section>
<section id="データを理解する【実装】">
<h2>データを理解する【実装】<a class="headerlink" href="#データを理解する【実装】" title="Link to this heading"></a></h2>
<section id="データの全体像の理解">
<h3>データの全体像の理解<a class="headerlink" href="#データの全体像の理解" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-f8738a7f-a533-494a-b102-58d0b2f02bd0" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>列1</th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2343.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>45.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>1270.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.0</td>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2476.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.0</td>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>184.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-f8738a7f-a533-494a-b102-58d0b2f02bd0')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-f8738a7f-a533-494a-b102-58d0b2f02bd0 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-f8738a7f-a533-494a-b102-58d0b2f02bd0');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c54e1371-81dd-4839-90de-0cfde11502ef">
  <button class="colab-df-quickchart" onclick="quickchart('df-c54e1371-81dd-4839-90de-0cfde11502ef')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c54e1371-81dd-4839-90de-0cfde11502ef button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
<span class="c1">#11165 サンプルと18列あることがわかる</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(11165, 18)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 数値データの統計情報</span>
<span class="n">data</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-285a0a1c-8be0-4e98-9af6-6562350fe650" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>列1</th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>day</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>11162.000000</td>
      <td>11162.000000</td>
      <td>11162.000000</td>
      <td>11162.000000</td>
      <td>11162.000000</td>
      <td>11162.000000</td>
      <td>11162.000000</td>
      <td>11165.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>5580.500000</td>
      <td>41.231948</td>
      <td>1528.538524</td>
      <td>15.658036</td>
      <td>371.993818</td>
      <td>51.330407</td>
      <td>0.832557</td>
      <td>8.622819</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3222.336187</td>
      <td>11.913369</td>
      <td>3225.413326</td>
      <td>8.420740</td>
      <td>347.128386</td>
      <td>108.758282</td>
      <td>2.292007</td>
      <td>25.692650</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>18.000000</td>
      <td>-6847.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>-1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2790.250000</td>
      <td>32.000000</td>
      <td>122.000000</td>
      <td>8.000000</td>
      <td>138.000000</td>
      <td>-1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>5580.500000</td>
      <td>39.000000</td>
      <td>550.000000</td>
      <td>15.000000</td>
      <td>255.000000</td>
      <td>-1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>8370.750000</td>
      <td>49.000000</td>
      <td>1708.000000</td>
      <td>22.000000</td>
      <td>496.000000</td>
      <td>20.750000</td>
      <td>1.000000</td>
      <td>6.550000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>11161.000000</td>
      <td>95.000000</td>
      <td>81204.000000</td>
      <td>31.000000</td>
      <td>3881.000000</td>
      <td>854.000000</td>
      <td>58.000000</td>
      <td>812.040000</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-285a0a1c-8be0-4e98-9af6-6562350fe650')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-285a0a1c-8be0-4e98-9af6-6562350fe650 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-285a0a1c-8be0-4e98-9af6-6562350fe650');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-0c0930f3-fff5-4810-91bb-34d6c4eca8e6">
  <button class="colab-df-quickchart" onclick="quickchart('df-0c0930f3-fff5-4810-91bb-34d6c4eca8e6')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-0c0930f3-fff5-4810-91bb-34d6c4eca8e6 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 文字列のデータの全体像を理解する</span>
<span class="n">cat_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;仕事&#39;</span><span class="p">,</span> <span class="s1">&#39;結婚状況&#39;</span><span class="p">,</span> <span class="s1">&#39;最終学歴&#39;</span><span class="p">,</span> <span class="s1">&#39;債務不履行の有無&#39;</span><span class="p">,</span> <span class="s1">&#39;持ち家の有無&#39;</span><span class="p">,</span> <span class="s1">&#39;ローンの有無&#39;</span><span class="p">,</span> <span class="s1">&#39;客へ最後に連絡した際の連絡手段&#39;</span><span class="p">,</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>

<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">cat_column</span> <span class="ow">in</span> <span class="n">cat_columns</span><span class="p">:</span>
    <span class="n">value_counts</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">cat_column</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

    <span class="n">trace_x</span> <span class="o">=</span> <span class="n">counter</span> <span class="o">//</span> <span class="mi">3</span>
    <span class="n">trace_y</span> <span class="o">=</span> <span class="n">counter</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="n">x_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">value_counts</span><span class="p">))</span>

    <span class="n">axs</span><span class="p">[</span><span class="n">trace_x</span><span class="p">,</span> <span class="n">trace_y</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">value_counts</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">tick_label</span> <span class="o">=</span> <span class="n">value_counts</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

    <span class="n">axs</span><span class="p">[</span><span class="n">trace_x</span><span class="p">,</span> <span class="n">trace_y</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">cat_column</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="n">axs</span><span class="p">[</span><span class="n">trace_x</span><span class="p">,</span> <span class="n">trace_y</span><span class="p">]</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">():</span>
        <span class="n">tick</span><span class="o">.</span><span class="n">set_rotation</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>

    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_15_0.png" src="../_images/src_01_15_0.png" />
</div>
</div>
<p>例）データから分かること - リストの平均年齢41歳 - リストの平均残高1528ドル - 成約数、不成約の数はあまり変わらない - 11165 サンプルと18列あることがわかる</p>
<p>演習）受講者に他にどのようなことがわかるか書き出してもらう 5分</p>
</section>
<section id="個別の列の可視化">
<h3>個別の列の可視化<a class="headerlink" href="#個別の列の可視化" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># @title balance</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,]]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_18_0.png" src="../_images/src_01_18_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># @title age</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;年齢&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,]]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_19_0.png" src="../_images/src_01_19_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: data のdepositの</span>

<span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
成約の有無
no     5873
yes    5289
Name: count, dtype: int64
</pre></div></div>
</div>
</section>
</section>
<section id="データとデータから新しい情報を得る">
<h2>データとデータから新しい情報を得る<a class="headerlink" href="#データとデータから新しい情報を得る" title="Link to this heading"></a></h2>
<p>それぞれのデータを確認し、データの大枠の理解が進みました。次に複数のデータをまとめたり、分解をします。 様々な視点でデータを確認することによって、新しい発見をする可能性が高まります。 集計・可視化を上手く使用すると 2 変数の関連性を理解することが可能です。</p>
<section id="データの種類">
<h3>データの種類<a class="headerlink" href="#データの種類" title="Link to this heading"></a></h3>
<p>2 変数の関連性を正しく理解するにはデータの種類と尺度について理解している必要があります。ここまで何気なくデータを扱ってみましたが、データにはその種類に明確な区分が存在します。まずは、全体像を以下の図から確認します。</p>
<p><img alt="data" src="https://life-analyze24.com/wp-content/uploads/2021/04/datasyurui-768x457.png" /></p>
<p>データは大きく、質的データと量的データに区別することができます。質的データとは数値に直接置き換えることができないデータを指します。性別（男女）、旅行の目的（ビジネス・旅行 etc…）がそれに当たります。</p>
<p>質的データはさらにその尺度の種類で 2 つに分けることができます。1 つは性別のように順序に意味がないものです。このような尺度を名義尺度と呼びます。もう 1 つが食べログの満足度(0,1,2) のように順序に意味があるものです。この様な尺度を順位尺度と呼びます。</p>
<p>これらは見分けるのが難しいのですが、コツとして数値に仮に置き換えて考えてみると良いです。例えば、性別において 男性 : 1 、女性 : 0 と置き換えて考えます。数値として扱うとこの 2 つには差が存在しますが、その差に厳密な意味は存在しません。それに対して満足度は、満足度を 満足 ： １、普通 : 2、不満足 : 0 と置き換えた場合、この数値の差には意味が存在することが分かります。つまり 0 ~ 2 の数値には順序の概念があります。</p>
<p>質的データの対になるものに量的データがあります。量的データとは年齢や売上などのそのまま数値で取り扱えるデータです。量的データは数字の変化が連続的であることが特徴です。例えば、先程挙げた満足度も、1 ~ 5 で評価してください。とアンケートを取った場合には、量的データとも捉えることができます。本コースでは満足度を含めた評価点はすべて量的データとして取り扱います。</p>
<p>量的データも尺度によって 2 つに分けることができます。１ つは年齢のように、数値の間隔に意味があるものです。この様な尺度を間隔尺度と呼びます。もう １ つが売上のように比にも意味があり、単純に 〇〇 倍のように表現できるものです。この様な尺度を比例尺度と呼びます。</p>
<p>これは 0 が本当になにもないことを指しているかで見分けます。年齢が 0 は、本当になにもないことを指していませんが、売上が 0 は本当になにもないことを示しています。</p>
<p>先程挙げたデータの種類の組み合わせによって、関連性の把握する方法が異なります。 <img alt="ddd" src="https://public-psychologist.systems/wp/wp-content/uploads/2021/05/sihyou-1024x299.png" /> *質的変数×量的変数→平均値の比較</p>
<p>実際に今回のデータに対しても、クロス集計や散布図を用いて関係性の把握を行いましょう。</p>
</section>
<section id="成約の有無と他の列の関係性を確認する">
<h3>成約の有無と他の列の関係性を確認する<a class="headerlink" href="#成約の有無と他の列の関係性を確認する" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 年齢と銀行残高の散布図を描画</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;年齢&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_22_0.png" src="../_images/src_01_22_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: #仕事と and 成約の有無のクロス集計表を作成</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;仕事&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-a9584e58-69f7-4b2a-847c-6356d044bdcf" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>成約の有無</th>
      <th>no</th>
      <th>yes</th>
    </tr>
    <tr>
      <th>仕事</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>admin.</th>
      <td>703</td>
      <td>631</td>
    </tr>
    <tr>
      <th>blue-collar</th>
      <td>1236</td>
      <td>708</td>
    </tr>
    <tr>
      <th>entrepreneur</th>
      <td>205</td>
      <td>123</td>
    </tr>
    <tr>
      <th>housemaid</th>
      <td>165</td>
      <td>109</td>
    </tr>
    <tr>
      <th>management</th>
      <td>1265</td>
      <td>1301</td>
    </tr>
    <tr>
      <th>retired</th>
      <td>262</td>
      <td>516</td>
    </tr>
    <tr>
      <th>self-employed</th>
      <td>218</td>
      <td>187</td>
    </tr>
    <tr>
      <th>services</th>
      <td>554</td>
      <td>369</td>
    </tr>
    <tr>
      <th>student</th>
      <td>91</td>
      <td>269</td>
    </tr>
    <tr>
      <th>technician</th>
      <td>983</td>
      <td>840</td>
    </tr>
    <tr>
      <th>unemployed</th>
      <td>155</td>
      <td>202</td>
    </tr>
    <tr>
      <th>unknown</th>
      <td>36</td>
      <td>34</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-a9584e58-69f7-4b2a-847c-6356d044bdcf')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-a9584e58-69f7-4b2a-847c-6356d044bdcf button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-a9584e58-69f7-4b2a-847c-6356d044bdcf');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c4b8b35f-2420-4835-b7f0-a43989456948">
  <button class="colab-df-quickchart" onclick="quickchart('df-c4b8b35f-2420-4835-b7f0-a43989456948')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c4b8b35f-2420-4835-b7f0-a43989456948 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#仕事 and 成約の可視化</span>
<span class="n">j_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="n">j_df</span><span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span><span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">][</span><span class="s2">&quot;仕事&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">j_df</span><span class="p">[</span><span class="s1">&#39;no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">][</span><span class="s2">&quot;仕事&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="n">j_df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;仕事 and 成約&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: title={&#39;center&#39;: &#39;仕事 and 成約&#39;}, xlabel=&#39;仕事&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_24_1.png" src="../_images/src_01_24_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 結婚状況と成約の有無のクロス集計</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;結婚状況&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-10f7c83c-386d-44f6-b1b0-8f1d9a2af924" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>成約の有無</th>
      <th>no</th>
      <th>yes</th>
    </tr>
    <tr>
      <th>結婚状況</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>divorced</th>
      <td>671</td>
      <td>622</td>
    </tr>
    <tr>
      <th>married</th>
      <td>3596</td>
      <td>2755</td>
    </tr>
    <tr>
      <th>single</th>
      <td>1606</td>
      <td>1912</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-10f7c83c-386d-44f6-b1b0-8f1d9a2af924')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-10f7c83c-386d-44f6-b1b0-8f1d9a2af924 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-10f7c83c-386d-44f6-b1b0-8f1d9a2af924');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-f70959fc-bd48-434a-ae77-cbb4079cb20b">
  <button class="colab-df-quickchart" onclick="quickchart('df-f70959fc-bd48-434a-ae77-cbb4079cb20b')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-f70959fc-bd48-434a-ae77-cbb4079cb20b button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#結婚 and 成約の可視化</span>
<span class="n">j_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="n">j_df</span><span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span><span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">][</span><span class="s2">&quot;結婚状況&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">j_df</span><span class="p">[</span><span class="s1">&#39;no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">][</span><span class="s2">&quot;結婚状況&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">j_df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;結婚状況 and 成約&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: title={&#39;center&#39;: &#39;結婚状況 and 成約&#39;}, xlabel=&#39;結婚状況&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_26_1.png" src="../_images/src_01_26_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;最終学歴&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-3f77b2f5-3de3-4262-81b1-5021f8accb97" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>成約の有無</th>
      <th>no</th>
      <th>yes</th>
    </tr>
    <tr>
      <th>最終学歴</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>primary</th>
      <td>909</td>
      <td>591</td>
    </tr>
    <tr>
      <th>secondary</th>
      <td>3026</td>
      <td>2450</td>
    </tr>
    <tr>
      <th>tertiary</th>
      <td>1693</td>
      <td>1996</td>
    </tr>
    <tr>
      <th>unknown</th>
      <td>245</td>
      <td>252</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3f77b2f5-3de3-4262-81b1-5021f8accb97')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3f77b2f5-3de3-4262-81b1-5021f8accb97 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3f77b2f5-3de3-4262-81b1-5021f8accb97');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-decbaa1a-57a0-475b-861e-1e2d66ba5ac4">
  <button class="colab-df-quickchart" onclick="quickchart('df-decbaa1a-57a0-475b-861e-1e2d66ba5ac4')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-decbaa1a-57a0-475b-861e-1e2d66ba5ac4 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#最終学歴 and 成約</span>
<span class="n">j_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="n">j_df</span><span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span><span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">][</span><span class="s2">&quot;最終学歴&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">j_df</span><span class="p">[</span><span class="s1">&#39;no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">][</span><span class="s2">&quot;最終学歴&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">j_df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;最終学歴 and 成約&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: title={&#39;center&#39;: &#39;最終学歴 and 成約&#39;}, xlabel=&#39;最終学歴&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_28_1.png" src="../_images/src_01_28_1.png" />
</div>
</div>
<p>実際に 2 変数をクロス集計や散布図を用いて描画することによって、データのさらなる理解が深まりました。 - 「ブルーカラー」や「サービス業」の仕事に就いている顧客は、定期預金を申し込む可能性が低い。 - 既婚の顧客は定期預金を契約する可能性が低くなります。 - 学歴は成約すうとあまり関係がなさそう - Retire（退職）している人の成約率が高い</p>
<div class="line-block">
<div class="line">ここまでデータの理解を進めました。 クロス集計や散布図を用いて可視化を行いデータの分析を行うことを探索的分析といいます。</div>
<div class="line">本章では探索的分析ではなく、分析や検定について紹介します。</div>
</div>
</section>
<section id="検定とは（推測統計）">
<h3>検定とは（推測統計）<a class="headerlink" href="#検定とは（推測統計）" title="Link to this heading"></a></h3>
<p>本章では統計的仮説検定について学習します。検定を行うことで、仮説が正しいと言ってよいのかを判断できます。</p>
<div class="line-block">
<div class="line">これだけではわかりにくいので具体例を用いて考えましょう</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#銀行残高と成約の統計情報を確認する</span>

<span class="n">b_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">b_df</span><span class="p">[</span><span class="s1">&#39;銀行残高_yes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]</span>
<span class="n">b_df</span><span class="p">[</span><span class="s1">&#39;銀行残高_no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]</span>

<span class="n">b_df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-2bfc16e0-c778-436e-805e-76755940573d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>銀行残高_yes</th>
      <th>銀行残高_no</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>5289.000000</td>
      <td>5873.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1804.267915</td>
      <td>1280.227141</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3501.104777</td>
      <td>2933.411934</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-3058.000000</td>
      <td>-6847.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>210.000000</td>
      <td>64.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>733.000000</td>
      <td>414.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2159.000000</td>
      <td>1324.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>81204.000000</td>
      <td>66653.000000</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-2bfc16e0-c778-436e-805e-76755940573d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-2bfc16e0-c778-436e-805e-76755940573d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-2bfc16e0-c778-436e-805e-76755940573d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-cedfaf69-cfc3-461f-a920-9c1250779f7f">
  <button class="colab-df-quickchart" onclick="quickchart('df-cedfaf69-cfc3-461f-a920-9c1250779f7f')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-cedfaf69-cfc3-461f-a920-9c1250779f7f button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_249e3b86-82e8-4f89-9f10-d19869e2ccc7">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('b_df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_249e3b86-82e8-4f89-9f10-d19869e2ccc7 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('b_df');
      }
      })();
    </script>
  </div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;25%&#39;</span><span class="p">,</span> <span class="s1">&#39;50%&#39;</span><span class="p">,</span> <span class="s1">&#39;75%&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Balance and deposit statistics&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: title={&#39;center&#39;: &#39;Balance and deposit statistics&#39;}&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_32_1.png" src="../_images/src_01_32_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 年齢と成約の関係</span>
<span class="n">a_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">a_df</span><span class="p">[</span><span class="s1">&#39;年齢_yes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;年齢&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;年齢&#39;</span><span class="p">]</span>
<span class="n">a_df</span><span class="p">[</span><span class="s1">&#39;年齢_no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;年齢&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;年齢&#39;</span><span class="p">]</span>

<span class="n">a_df</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-590d0f99-865c-41c9-a281-a998b4c43254" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢_yes</th>
      <th>年齢_no</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>5289.000000</td>
      <td>5873.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>41.670070</td>
      <td>40.837391</td>
    </tr>
    <tr>
      <th>std</th>
      <td>13.497781</td>
      <td>10.264815</td>
    </tr>
    <tr>
      <th>min</th>
      <td>18.000000</td>
      <td>18.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>31.000000</td>
      <td>33.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>38.000000</td>
      <td>39.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>50.000000</td>
      <td>48.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>95.000000</td>
      <td>89.000000</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-590d0f99-865c-41c9-a281-a998b4c43254')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-590d0f99-865c-41c9-a281-a998b4c43254 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-590d0f99-865c-41c9-a281-a998b4c43254');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-398f2b98-95ba-4f26-a34d-6eb35103d24c">
  <button class="colab-df-quickchart" onclick="quickchart('df-398f2b98-95ba-4f26-a34d-6eb35103d24c')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-398f2b98-95ba-4f26-a34d-6eb35103d24c button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_b53b3563-8a51-4b74-80de-ab0ff8f08392">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('a_df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_b53b3563-8a51-4b74-80de-ab0ff8f08392 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('a_df');
      }
      })();
    </script>
  </div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;25%&#39;</span><span class="p">,</span> <span class="s1">&#39;50%&#39;</span><span class="p">,</span> <span class="s1">&#39;75%&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Age and deposit statistics&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: title={&#39;center&#39;: &#39;Age and deposit statistics&#39;}&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_34_1.png" src="../_images/src_01_34_1.png" />
</div>
</div>
<ul class="simple">
<li><p>定期預金を契約している人は、残高や年齢の値が大きい傾向があります</p></li>
</ul>
</section>
</section>
<section id="一次分析のまとめ">
<h2>一次分析のまとめ<a class="headerlink" href="#一次分析のまとめ" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>「ブルーカラー」や「サービス業」の仕事に就いている顧客は、定期預金を申し込む可能性が低いです。</p></li>
<li><p>既婚の顧客は定期預金を契約する可能性が低くなります。</p></li>
<li><p>定期預金している人は残高や年齢の値が大きい傾向がある。</p></li>
</ul>
<section id="仮説をたてて分析を行い統計的に証明する">
<h3>仮説をたてて分析を行い統計的に証明する<a class="headerlink" href="#仮説をたてて分析を行い統計的に証明する" title="Link to this heading"></a></h3>
<p>以下の仮説を調べる - 結婚状況と成約の有無は関連性があるのではないか - 最も売上の良い営業と売上の最も引くい営業では営業力に差があるのではないか</p>
</section>
<section id="カイ二乗検定を使用して関連性を証明する">
<h3>カイ二乗検定を使用して関連性を証明する<a class="headerlink" href="#カイ二乗検定を使用して関連性を証明する" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># カイ二乗検定を実装し、成約率と最終学歴の関連性があるかどうか調べる</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;結婚状況&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contingency_table</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">chi2</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>

<span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;結婚状況と定期預金加入の有無との間には、統計的に有意な関係がある。&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;結婚状況と定期預金加入の有無との間には、統計的に有意な関連は見られない。&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
成約の有無       no   yes
結婚状況
divorced   671   622
married   3596  2755
single    1606  1912
結婚状況と定期預金加入の有無との間には、統計的に有意な関係がある。
</pre></div></div>
</div>
</section>
<section id="営業マンの力量をT検定する。">
<h3>営業マンの力量をT検定する。<a class="headerlink" href="#営業マンの力量をT検定する。" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">)[</span><span class="s1">&#39;売上&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">salse</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
担当営業マン
A    8.358587
B    8.838254
C    8.455569
D    8.409461
E    9.043657
Name: 売上, dtype: float64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 営業マンごとの成約数の値をみる</span>

<span class="n">salse2</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">)[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">salse2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
担当営業マン  成約の有無
A       no       1199
        yes      1073
B       no       1140
        yes      1037
C       no       1133
        yes      1045
D       no       1161
        yes      1067
E       no       1240
        yes      1067
Name: count, dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># テーブル化</span>

<span class="n">salse2</span> <span class="o">=</span> <span class="n">salse2</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">salse2</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">]</span>
<span class="n">salse2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-23b6e20f-878f-43ee-812f-ed5dff5bd87b" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>no</th>
      <th>yes</th>
    </tr>
    <tr>
      <th>担当営業マン</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A</th>
      <td>1199</td>
      <td>1073</td>
    </tr>
    <tr>
      <th>B</th>
      <td>1140</td>
      <td>1037</td>
    </tr>
    <tr>
      <th>C</th>
      <td>1133</td>
      <td>1045</td>
    </tr>
    <tr>
      <th>D</th>
      <td>1161</td>
      <td>1067</td>
    </tr>
    <tr>
      <th>E</th>
      <td>1240</td>
      <td>1067</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-23b6e20f-878f-43ee-812f-ed5dff5bd87b')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-23b6e20f-878f-43ee-812f-ed5dff5bd87b button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-23b6e20f-878f-43ee-812f-ed5dff5bd87b');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-9596aa45-a119-438c-a100-03954d5e2da0">
  <button class="colab-df-quickchart" onclick="quickchart('df-9596aa45-a119-438c-a100-03954d5e2da0')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-9596aa45-a119-438c-a100-03954d5e2da0 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: salse2 とsalse テーブルを結合する</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">salse_merge</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">salse</span><span class="p">,</span> <span class="n">salse2</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">)</span>
<span class="n">salse_merge</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>売上</th>
      <th>no</th>
      <th>yes</th>
    </tr>
    <tr>
      <th>担当営業マン</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A</th>
      <td>8.358587</td>
      <td>1199</td>
      <td>1073</td>
    </tr>
    <tr>
      <th>B</th>
      <td>8.838254</td>
      <td>1140</td>
      <td>1037</td>
    </tr>
    <tr>
      <th>C</th>
      <td>8.455569</td>
      <td>1133</td>
      <td>1045</td>
    </tr>
    <tr>
      <th>D</th>
      <td>8.409461</td>
      <td>1161</td>
      <td>1067</td>
    </tr>
    <tr>
      <th>E</th>
      <td>9.043657</td>
      <td>1240</td>
      <td>1067</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-d15d15b3-738b-41d2-b887-471529d2789d">
  <button class="colab-df-quickchart" onclick="quickchart('df-d15d15b3-738b-41d2-b887-471529d2789d')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-d15d15b3-738b-41d2-b887-471529d2789d button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;売上&#39;, &#39;no&#39;, &#39;yes&#39;], dtype=&#39;object&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-1b3e3737-2778-4988-acb8-a2cb21f075fb" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>担当営業マン</th>
      <th>売上</th>
      <th>no</th>
      <th>yes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>8.358587</td>
      <td>1199</td>
      <td>1073</td>
    </tr>
    <tr>
      <th>1</th>
      <td>B</td>
      <td>8.838254</td>
      <td>1140</td>
      <td>1037</td>
    </tr>
    <tr>
      <th>2</th>
      <td>C</td>
      <td>8.455569</td>
      <td>1133</td>
      <td>1045</td>
    </tr>
    <tr>
      <th>3</th>
      <td>D</td>
      <td>8.409461</td>
      <td>1161</td>
      <td>1067</td>
    </tr>
    <tr>
      <th>4</th>
      <td>E</td>
      <td>9.043657</td>
      <td>1240</td>
      <td>1067</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-1b3e3737-2778-4988-acb8-a2cb21f075fb')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-1b3e3737-2778-4988-acb8-a2cb21f075fb button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-1b3e3737-2778-4988-acb8-a2cb21f075fb');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-62b4a5e3-74c9-44af-abea-5f58798c1eff">
  <button class="colab-df-quickchart" onclick="quickchart('df-62b4a5e3-74c9-44af-abea-5f58798c1eff')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-62b4a5e3-74c9-44af-abea-5f58798c1eff button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;担当営業マン&#39;, &#39;売上&#39;, &#39;no&#39;, &#39;yes&#39;], dtype=&#39;object&#39;)
</pre></div></div>
</div>
<p>キャンペーンを売っていないときと今回のデータを使用してT検定を行います。 今回のキャンペーンが効果があったと言えるかどうかを検定を行い検証しましょうｌ．</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># 乱数のシードを設定して再現性を保つ</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># サンプルサイズ</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># 年齢データを作成（18歳から95歳までの乱数）</span>
<span class="n">age</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 職業データを作成（&#39;admin.&#39;, &#39;blue-collar&#39;, &#39;technician&#39;, &#39;services&#39;, &#39;management&#39;, &#39;retired&#39;, &#39;entrepreneur&#39;, &#39;self-employed&#39;, &#39;housemaid&#39;, &#39;unemployed&#39;, &#39;student&#39;, &#39;unknown&#39;）</span>
<span class="n">occupations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;admin.&#39;</span><span class="p">,</span> <span class="s1">&#39;blue-collar&#39;</span><span class="p">,</span> <span class="s1">&#39;technician&#39;</span><span class="p">,</span> <span class="s1">&#39;services&#39;</span><span class="p">,</span> <span class="s1">&#39;management&#39;</span><span class="p">,</span> <span class="s1">&#39;retired&#39;</span><span class="p">,</span> <span class="s1">&#39;entrepreneur&#39;</span><span class="p">,</span> <span class="s1">&#39;self-employed&#39;</span><span class="p">,</span> <span class="s1">&#39;housemaid&#39;</span><span class="p">,</span> <span class="s1">&#39;unemployed&#39;</span><span class="p">,</span> <span class="s1">&#39;student&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">occupation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">occupations</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 婚姻状態データを作成（&#39;married&#39;, &#39;single&#39;, &#39;divorced&#39;, &#39;unknown&#39;）</span>
<span class="n">marital_statuses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;married&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;divorced&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">marital_status</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">marital_statuses</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 学歴データを作成（&#39;basic.4y&#39;, &#39;basic.6y&#39;, &#39;basic.9y&#39;, &#39;high.school&#39;, &#39;professional.course&#39;, &#39;university.degree&#39;, &#39;unknown&#39;）</span>
<span class="n">educations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;basic.4y&#39;</span><span class="p">,</span> <span class="s1">&#39;basic.6y&#39;</span><span class="p">,</span> <span class="s1">&#39;basic.9y&#39;</span><span class="p">,</span> <span class="s1">&#39;high.school&#39;</span><span class="p">,</span> <span class="s1">&#39;professional.course&#39;</span><span class="p">,</span> <span class="s1">&#39;university.degree&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">education</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">educations</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># デフォルト情報データを作成（&#39;yes&#39;, &#39;no&#39;, &#39;unknown&#39;）</span>
<span class="n">defaults</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">default</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">defaults</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 住宅ローンデータを作成（&#39;yes&#39;, &#39;no&#39;, &#39;unknown&#39;）</span>
<span class="n">housings</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">housing</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">housings</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 個人ローンデータを作成（&#39;yes&#39;, &#39;no&#39;, &#39;unknown&#39;）</span>
<span class="n">loans</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">loan</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">loans</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 連絡方法データを作成（&#39;telephone&#39;, &#39;cellular&#39;）</span>
<span class="n">contacts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;telephone&#39;</span><span class="p">,</span> <span class="s1">&#39;cellular&#39;</span><span class="p">]</span>
<span class="n">contact</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">contacts</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 連絡時間データを作成（&#39;jan&#39;, &#39;feb&#39;, &#39;mar&#39;, &#39;apr&#39;, &#39;may&#39;, &#39;jun&#39;, &#39;jul&#39;, &#39;aug&#39;, &#39;sep&#39;, &#39;oct&#39;, &#39;nov&#39;, &#39;dec&#39;）</span>
<span class="n">months</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;jan&#39;</span><span class="p">,</span> <span class="s1">&#39;feb&#39;</span><span class="p">,</span> <span class="s1">&#39;mar&#39;</span><span class="p">,</span> <span class="s1">&#39;apr&#39;</span><span class="p">,</span> <span class="s1">&#39;may&#39;</span><span class="p">,</span> <span class="s1">&#39;jun&#39;</span><span class="p">,</span> <span class="s1">&#39;jul&#39;</span><span class="p">,</span> <span class="s1">&#39;aug&#39;</span><span class="p">,</span> <span class="s1">&#39;sep&#39;</span><span class="p">,</span> <span class="s1">&#39;oct&#39;</span><span class="p">,</span> <span class="s1">&#39;nov&#39;</span><span class="p">,</span> <span class="s1">&#39;dec&#39;</span><span class="p">]</span>
<span class="n">month</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">months</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 連絡曜日データを作成（&#39;mon&#39;, &#39;tue&#39;, &#39;wed&#39;, &#39;thu&#39;, &#39;fri&#39;）</span>
<span class="n">days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mon&#39;</span><span class="p">,</span> <span class="s1">&#39;tue&#39;</span><span class="p">,</span> <span class="s1">&#39;wed&#39;</span><span class="p">,</span> <span class="s1">&#39;thu&#39;</span><span class="p">,</span> <span class="s1">&#39;fri&#39;</span><span class="p">]</span>
<span class="n">day_of_week</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 最後の接触からの日数データを作成（0から365までの乱数）</span>
<span class="n">campaign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">366</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 最後の接触回数データを作成（0から10までの乱数）</span>
<span class="n">pdays</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 前回のキャンペーン後の結果データを作成（0から7までの乱数）</span>
<span class="n">previous</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 通知の結果データを作成（&#39;failure&#39;, &#39;nonexistent&#39;, &#39;success&#39;）</span>
<span class="n">poutcomes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;failure&#39;</span><span class="p">,</span> <span class="s1">&#39;nonexistent&#39;</span><span class="p">,</span> <span class="s1">&#39;success&#39;</span><span class="p">]</span>
<span class="n">poutcome</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">poutcomes</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 顧客の年間連絡回数データを作成（-3.4から1.4までの乱数）</span>
<span class="n">emp_var_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 消費者物価指数データを作成（92から95までの乱数）</span>
<span class="n">cons_price_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">92</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 消費者信頼感指数データを作成（-50から-25までの乱数）</span>
<span class="n">cons_conf_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 雇用者の雇用指数データを作成（0.6から5.0までの乱数）</span>
<span class="n">euribor3m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># サポートされている連絡データを作成（4900から5200までの乱数）</span>
<span class="n">nr_employed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">4900</span><span class="p">,</span> <span class="mi">5201</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 最終的な購入の結果データを作成（&#39;yes&#39;, &#39;no&#39;）</span>
<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">y_values</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># データフレームを作成</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="n">age</span><span class="p">,</span>
    <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="n">occupation</span><span class="p">,</span>
    <span class="s1">&#39;marital&#39;</span><span class="p">:</span> <span class="n">marital_status</span><span class="p">,</span>
    <span class="s1">&#39;education&#39;</span><span class="p">:</span> <span class="n">education</span><span class="p">,</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="n">default</span><span class="p">,</span>
    <span class="s1">&#39;housing&#39;</span><span class="p">:</span> <span class="n">housing</span><span class="p">,</span>
    <span class="s1">&#39;loan&#39;</span><span class="p">:</span> <span class="n">loan</span><span class="p">,</span>
    <span class="s1">&#39;contact&#39;</span><span class="p">:</span> <span class="n">contact</span><span class="p">,</span>
    <span class="s1">&#39;month&#39;</span><span class="p">:</span> <span class="n">month</span><span class="p">,</span>
    <span class="s1">&#39;day_of_week&#39;</span><span class="p">:</span> <span class="n">day_of_week</span><span class="p">,</span>
    <span class="s1">&#39;campaign&#39;</span><span class="p">:</span> <span class="n">campaign</span><span class="p">,</span>
    <span class="s1">&#39;pdays&#39;</span><span class="p">:</span> <span class="n">pdays</span><span class="p">,</span>
    <span class="s1">&#39;previous&#39;</span><span class="p">:</span> <span class="n">previous</span><span class="p">,</span>
    <span class="s1">&#39;poutcome&#39;</span><span class="p">:</span> <span class="n">poutcome</span><span class="p">,</span>
    <span class="s1">&#39;emp.var.rate&#39;</span><span class="p">:</span> <span class="n">emp_var_rate</span><span class="p">,</span>
    <span class="s1">&#39;cons.price.idx&#39;</span><span class="p">:</span> <span class="n">cons_price_idx</span><span class="p">,</span>
    <span class="s1">&#39;cons.conf.idx&#39;</span><span class="p">:</span> <span class="n">cons_conf_idx</span><span class="p">,</span>
    <span class="s1">&#39;euribor3m&#39;</span><span class="p">:</span> <span class="n">euribor3m</span><span class="p">,</span>
    <span class="s1">&#39;nr.employed&#39;</span><span class="p">:</span> <span class="n">nr_employed</span><span class="p">,</span>
    <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y</span>
<span class="p">})</span>

<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: data テーブルの営業マン列のAとEで売上に差があるかどうか検定</span>

<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="c1"># 帰無仮説：AとEの売上には差がない（差があるとはいえない）</span>
<span class="c1"># 対立仮説：AとEの売上には差がある</span>

<span class="c1"># AとEの売上を抽出</span>
<span class="n">a_sales</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">][</span><span class="s1">&#39;売上&#39;</span><span class="p">]</span>
<span class="n">e_sales</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;E&#39;</span><span class="p">][</span><span class="s1">&#39;売上&#39;</span><span class="p">]</span>

<span class="c1"># 二標本t検定の実行</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">a_sales</span><span class="p">,</span> <span class="n">e_sales</span><span class="p">)</span>


<span class="c1"># 有意水準α=0.05で検定</span>
<span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AとEの売上には差がある&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AとEの売上には差がない&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p_value</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
AとEの売上には差がない
-0.8582443340668331
0.39080249077419926
</pre></div></div>
</div>
<p>売上の最も高たったEと低かったAさんでは差がないということが言えないということが検定結果からわかります。営業マンによる成約率の上下はあまりなさそうです。</p>
</section>
<section id="相関分析">
<h3>相関分析<a class="headerlink" href="#相関分析" title="Link to this heading"></a></h3>
<p>年齢が上がるほど、銀行残高が上がるのかどうか相関関係を分析する</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 数値データのみを抽出</span>
<span class="n">numerical_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;int64&#39;</span><span class="p">,</span> <span class="s1">&#39;float64&#39;</span><span class="p">])</span>
<span class="n">numerical_data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;列1&#39;</span><span class="p">,</span><span class="s1">&#39;連絡で接触した時間（秒数&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># 相関分析の実行</span>
<span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">numerical_data</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="c1"># ,&#39;Unnamed: 18&#39;,&#39;Unnamed: 19&#39;</span>
<span class="c1"># データフレームに変換</span>
<span class="n">correlation_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">)</span>

<span class="c1"># 相関分析の結果を表示</span>
<span class="nb">print</span><span class="p">(</span><span class="n">correlation_df</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                年齢      銀行残高       day     pdays  previous        売上
年齢        1.000000  0.112300 -0.000762  0.002774  0.020169  0.101262
銀行残高      0.112300  1.000000  0.010467  0.017411  0.030805  0.727254
day      -0.000762  0.010467  1.000000 -0.077232 -0.058981 -0.011110
pdays     0.002774  0.017411 -0.077232  1.000000  0.507272  0.060419
previous  0.020169  0.030805 -0.058981  0.507272  1.000000  0.063562
売上        0.101262  0.727254 -0.011110  0.060419  0.063562  1.000000
</pre></div></div>
</div>
<ul class="simple">
<li><p>年齢と銀行残高に相関関係はなさそう。</p></li>
<li><p>売上と銀行残高には相関関係がある</p></li>
</ul>
<p>因果関係について 因果関係とは、相関分析は非常に強力な手法ですが、これにはいくつか注意点があります。相関は 2 つの変数間に因果関係があれば強く出ます。ここに注目すべき点があり、相関はお互いの影響度合いを見ている点には注意が必要です。</p>
<p>たまたま相関がある場合に注意しましょう。このような本当は関係はないが、相関があるように結果が出てしまうことを擬似相関（見せかけの相関）と言います。</p>
<p>この疑似相関は様々な要因で発生する可能性があります。</p>
<p>関係は全く無いが相関が発生する場合 第 3 の要因が 2 変数それぞれに影響している場合 第 3 の要因が 2 変数の間に介在している場合 関係は全く無いが相関が発生する場合</p>
<p>具体例を用いて考えてみましょう。</p>
<p>じゃがいもの生産量と自民党の支持率には正の相関があると言われています。この、じゃがいもの生産量と自民党の支持率には何かの因果関係が存在するのでしょうか。</p>
<p>回答としては No です。ここにはたまたま相関が見つかっていますが、何かの理由（因果関係）があるわけではありません。</p>
<p>第 3 の要因が 2 変数それぞれに影響している場合</p>
<p>学力テストの結果と身長には正の相関があると言われています。このとき、この 2 つには因果関係が存在するのでしょうか。</p>
<p>回答としては No だと分かります。実は、身長・テストの点数には、第 3 の要因となる「年齢」が紐付いています。つまり、年齢（C） ⇒ 身長（A）、年齢（C） ⇒ テストの点数（B）の様な関係性になっているのです。</p>
<p>また、今回の年齢（C）の様な要因を交絡因子と呼びます。</p>
<p>第 3 の要因が 2 変数の間に介在している場合</p>
<p>実は、「ウォーキングをすると体重が増える」には相関があるのですが、これも相関を使用して説明ができます。もちろんこれには直接的な因果関係はなく、ウォーキングをする（A） ⇒ 空腹から過剰に食べる（C） ⇒ 体重が増える（B）という関係になっています。</p>
<p>実際には因果関係がないものでも相関が出てしまい、因果関係があるように見えてしまうことが多々あります。これを解決する方法は様々あるのですが、第一に疑う姿勢を持つことを大切にしましょう。</p>
<p>メモ：受講者にも演習として検定を行っていただく。</p>
</section>
</section>
<section id="機械学習を行い分析を行う">
<h2>機械学習を行い分析を行う<a class="headerlink" href="#機械学習を行い分析を行う" title="Link to this heading"></a></h2>
<p>売上予測の重回帰モデルを作成して、売上の要因→成約の要因を探す 成約している人のみに注目し、売上に影響（成約）与える要因を探索する。</p>
<p>期待すること - 売上の高い→優良顧客の発見 - 成約はするが売上の低い顧客属性の発見</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: data から文字列の列を抽出してください</span>

<span class="n">string_cols</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">string_cols</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;仕事&#39;, &#39;結婚状況&#39;, &#39;最終学歴&#39;, &#39;債務不履行の有無&#39;, &#39;持ち家の有無&#39;, &#39;ローンの有無&#39;, &#39;客へ最後に連絡した際の連絡手段&#39;, &#39;month&#39;, &#39;成約の有無&#39;, &#39;担当営業マン&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>列1</th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2343.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>45.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>1270.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.0</td>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2476.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.0</td>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>184.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-90c39624-bb13-4314-86c3-06f64decea0b">
  <button class="colab-df-quickchart" onclick="quickchart('df-90c39624-bb13-4314-86c3-06f64decea0b')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-90c39624-bb13-4314-86c3-06f64decea0b button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<p>二値の値はラベルエンコーディング</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># カテゴリカル変数を含んだデータのみを抽出</span>
<span class="n">df_obj</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
<span class="n">df_obj</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-ab1eb3fd-f297-49a4-b032-768a9f4248d9" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>month</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>may</td>
      <td>yes</td>
      <td>B</td>
    </tr>
    <tr>
      <th>1</th>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>may</td>
      <td>yes</td>
      <td>E</td>
    </tr>
    <tr>
      <th>2</th>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>may</td>
      <td>yes</td>
      <td>A</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ab1eb3fd-f297-49a4-b032-768a9f4248d9')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ab1eb3fd-f297-49a4-b032-768a9f4248d9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ab1eb3fd-f297-49a4-b032-768a9f4248d9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-56d42f8f-8078-4376-b117-5d59a487c4a9">
  <button class="colab-df-quickchart" onclick="quickchart('df-56d42f8f-8078-4376-b117-5d59a487c4a9')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-56d42f8f-8078-4376-b117-5d59a487c4a9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_uni</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_uni</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
仕事                 12
結婚状況                3
最終学歴                4
債務不履行の有無            2
持ち家の有無              2
ローンの有無              2
客へ最後に連絡した際の連絡手段     3
month              12
成約の有無               2
担当営業マン              5
dtype: int64
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># モデルの宣言</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ユニークな値が 2 種類の列名のみ取得</span>
<span class="n">df_cols</span> <span class="o">=</span> <span class="n">df_uni</span><span class="p">[</span><span class="n">df_uni</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">df_cols</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;債務不履行の有無&#39;, &#39;持ち家の有無&#39;, &#39;ローンの有無&#39;, &#39;成約の有無&#39;], dtype=&#39;object&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_cols</span><span class="p">:</span>
  <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
  <span class="n">le</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
  <span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-9ee3a902-8fe1-42ed-93b3-c55693575693" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>列1</th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.0</td>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.0</td>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-9ee3a902-8fe1-42ed-93b3-c55693575693')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-9ee3a902-8fe1-42ed-93b3-c55693575693 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-9ee3a902-8fe1-42ed-93b3-c55693575693');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-1dfe8420-eca0-4f51-970d-95906d0772e5">
  <button class="colab-df-quickchart" onclick="quickchart('df-1dfe8420-eca0-4f51-970d-95906d0772e5')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-1dfe8420-eca0-4f51-970d-95906d0772e5 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;列1&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-0dcd9b81-0441-4c05-b2ed-45266862aecd" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-0dcd9b81-0441-4c05-b2ed-45266862aecd')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-0dcd9b81-0441-4c05-b2ed-45266862aecd button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-0dcd9b81-0441-4c05-b2ed-45266862aecd');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-a2391975-d10d-4c3d-bcdb-4cdeb5531aa0">
  <button class="colab-df-quickchart" onclick="quickchart('df-a2391975-d10d-4c3d-bcdb-4cdeb5531aa0')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-a2391975-d10d-4c3d-bcdb-4cdeb5531aa0 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;previous&#39;</span><span class="p">,</span><span class="s1">&#39;pdays&#39;</span><span class="p">,</span><span class="s1">&#39;債務不履行の有無&#39;</span><span class="p">,</span><span class="s1">&#39;連絡で接触した時間（秒数&#39;</span><span class="p">,</span><span class="s1">&#39;month&#39;</span><span class="p">,</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">,</span><span class="s1">&#39;客へ最後に連絡した際の連絡手段&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># &#39;Unnamed: 18&#39;,&#39;Unnamed: 19&#39;,&#39;Unnamed: 20&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(11165, 26)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-6331a0cc-555d-4195-8a84-a37708106971" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>23.43</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>0.45</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>12.70</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>24.76</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>1.84</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6331a0cc-555d-4195-8a84-a37708106971')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6331a0cc-555d-4195-8a84-a37708106971 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6331a0cc-555d-4195-8a84-a37708106971');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-ba710849-bb1e-4149-8c45-62a3e69d1bc6">
  <button class="colab-df-quickchart" onclick="quickchart('df-ba710849-bb1e-4149-8c45-62a3e69d1bc6')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-ba710849-bb1e-4149-8c45-62a3e69d1bc6 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 欠損値の数を確認</span>
<span class="n">mldata</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
年齢                  3
銀行残高                3
持ち家の有無              0
ローンの有無              0
day                 3
成約の有無               0
売上                  0
仕事_admin.           0
仕事_blue-collar      0
仕事_entrepreneur     0
仕事_housemaid        0
仕事_management       0
仕事_retired          0
仕事_self-employed    0
仕事_services         0
仕事_student          0
仕事_technician       0
仕事_unemployed       0
仕事_unknown          0
結婚状況_divorced       0
結婚状況_married        0
結婚状況_single         0
最終学歴_primary        0
最終学歴_secondary      0
最終学歴_tertiary       0
最終学歴_unknown        0
dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span><span class="o">=</span> <span class="n">mldata</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">mldata</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
年齢                  0
銀行残高                0
持ち家の有無              0
ローンの有無              0
day                 0
成約の有無               0
売上                  0
仕事_admin.           0
仕事_blue-collar      0
仕事_entrepreneur     0
仕事_housemaid        0
仕事_management       0
仕事_retired          0
仕事_self-employed    0
仕事_services         0
仕事_student          0
仕事_technician       0
仕事_unemployed       0
仕事_unknown          0
結婚状況_divorced       0
結婚状況_married        0
結婚状況_single         0
最終学歴_primary        0
最終学歴_secondary      0
最終学歴_tertiary       0
最終学歴_unknown        0
dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: mldata からNaN</span>

<span class="n">mldata</span><span class="p">[</span><span class="n">mldata</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-01e21a67-69e4-4b83-bc37-0bcf92757903" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<p>0 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-01e21a67-69e4-4b83-bc37-0bcf92757903')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-01e21a67-69e4-4b83-bc37-0bcf92757903 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-01e21a67-69e4-4b83-bc37-0bcf92757903');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 成約の有無列がyesだけのデータを取得</span>
<span class="n">mldata</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-08a77d1c-2360-4931-bf93-ef3721b46434" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>23.43</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>0.45</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>12.70</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>24.76</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>1.84</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-08a77d1c-2360-4931-bf93-ef3721b46434')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-08a77d1c-2360-4931-bf93-ef3721b46434 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-08a77d1c-2360-4931-bf93-ef3721b46434');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-88684878-4a84-4066-b0da-f44ca7b961d9">
  <button class="colab-df-quickchart" onclick="quickchart('df-88684878-4a84-4066-b0da-f44ca7b961d9')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-88684878-4a84-4066-b0da-f44ca7b961d9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: mldata の成約の有無が1のデータを取り出し</span>

<span class="n">mldata_yes</span> <span class="o">=</span> <span class="n">mldata</span><span class="p">[</span><span class="n">mldata</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">mldata_yes</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>23.43</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>0.45</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>12.70</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>24.76</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>1.84</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c902c21c-a779-4da4-bb11-b3e30c6399a8">
  <button class="colab-df-quickchart" onclick="quickchart('df-c902c21c-a779-4da4-bb11-b3e30c6399a8')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c902c21c-a779-4da4-bb11-b3e30c6399a8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<section id="重回帰分析">
<h3>重回帰分析<a class="headerlink" href="#重回帰分析" title="Link to this heading"></a></h3>
<p>重回帰分析を行い、売上に影響力のある特徴を算出する</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">re</span> <span class="kn">import</span> <span class="n">X</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mldata_yes</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;売上&#39;</span><span class="p">,</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">values</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">mldata_yes</span><span class="p">[[</span><span class="s1">&#39;売上&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><br/><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span><span class="p">,</span> <span class="n">mean_absolute_error</span><span class="p">,</span><span class="n">mean_squared_error</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="n">std_scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">std_scaler</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># 標準化</span>
<span class="n">x_train_std</span> <span class="o">=</span> <span class="n">std_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># x_test_std = std_scaler.transform(x_test)</span>

<span class="c1"># モデルの宣言</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>  <span class="n">t</span><span class="p">,)</span>
<span class="n">pred_y</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># モデルの検証</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;決定係数（r2）:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">r2_score</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pred_y</span><span class="p">),</span><span class="mi">3</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;平均誤差（MAE）:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pred_y</span><span class="p">),</span><span class="mi">3</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;平均二乗偏差(RMSE):</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pred_y</span><span class="p">)),</span><span class="mi">3</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
決定係数（r2）:0.999
平均誤差（MAE）:0.322
平均二乗偏差(RMSE):0.999
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">coef_</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[ 0.00053038,  0.0099747 ,  0.23074688,  0.45746109, -0.00058006,
        -0.06684301, -0.0075477 ,  0.30136415, -0.1284604 , -0.0705586 ,
        -0.01391888,  0.15260955,  0.05611743, -0.0738067 ,  0.01946247,
        -0.1068266 , -0.06159173,  0.05494255, -0.04260205, -0.01234051,
         0.05797679,  0.00055555, -0.01971352, -0.03881882]])
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: model の重みを可視化してください。</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">coefs</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">coef_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Create a list of column names</span>
<span class="n">column_names</span> <span class="o">=</span> <span class="n">mldata_yes</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;売上&#39;</span><span class="p">,</span> <span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># Create a DataFrame with the column names and coefficients</span>
<span class="n">coef_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Column Name&#39;</span><span class="p">:</span> <span class="n">column_names</span><span class="p">,</span> <span class="s1">&#39;Coefficient&#39;</span><span class="p">:</span> <span class="n">coefs</span><span class="p">})</span>

<span class="c1"># Sort the DataFrame by the coefficient values</span>
<span class="n">coef_df</span> <span class="o">=</span> <span class="n">coef_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Coefficient&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot the coefficients</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Coefficient&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Column Name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">coef_df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Model Coefficients&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Coefficient Value&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Column Name&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_83_0.png" src="../_images/src_01_83_0.png" />
</div>
</div>
<ul class="simple">
<li><p>すでにローンを持っていたり、起業家,自営業などの職業の人が成約後、預金金額（売上の）多い傾向にあることがわかった。</p></li>
<li><p>起業家、自営業の成約率は高くない</p></li>
<li><p>Retired は成約率は高いが売上はあまり上がらない（成約してもそこまで預金しない）ことがわかった。</p></li>
<li><p>家政婦や無職の人は成約を行っても預金が少ない（売上が低い）ことがわかった。</p></li>
</ul>
</section>
<section id="高度な分析の実装（決定木＆XG_Boost-を実装）→Excelで実装できないため講座の最後におみせする">
<h3>高度な分析の実装（決定木＆XG_Boost を実装）→Excelで実装できないため講座の最後におみせする<a class="headerlink" href="#高度な分析の実装（決定木＆XG_Boost-を実装）→Excelで実装できないため講座の最後におみせする" title="Link to this heading"></a></h3>
<p>高度な分析を行い、成約に影響力の高い特徴を調べる</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 決定木</span>

<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># データの用意</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">mldata</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;売上&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mldata</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span>

<span class="c1"># モデルの宣言</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">min_samples_split</span><span class="o">=</span><span class="mi">842</span><span class="p">)</span>

<span class="c1"># モデルの学習</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># モデルの予測</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># モデルの評価</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Accuracy:&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>

<span class="c1"># 決定木の可視化</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">plot_tree</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plot_tree</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">class_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Accuracy: 0.6516753270023293
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_86_1.png" src="../_images/src_01_86_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">optuna</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Collecting optuna
  Downloading optuna-3.6.1-py3-none-any.whl (380 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">380.1/380.1 kB</span> <span class="ansi-red-fg">4.9 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting alembic&gt;=1.5.0 (from optuna)
  Downloading alembic-1.13.1-py3-none-any.whl (233 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">233.4/233.4 kB</span> <span class="ansi-red-fg">10.9 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting colorlog (from optuna)
  Downloading colorlog-6.8.2-py3-none-any.whl (11 kB)
Requirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from optuna) (1.25.2)
Requirement already satisfied: packaging&gt;=20.0 in /usr/local/lib/python3.10/dist-packages (from optuna) (24.0)
Requirement already satisfied: sqlalchemy&gt;=1.3.0 in /usr/local/lib/python3.10/dist-packages (from optuna) (2.0.29)
Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from optuna) (4.66.2)
Requirement already satisfied: PyYAML in /usr/local/lib/python3.10/dist-packages (from optuna) (6.0.1)
Collecting Mako (from alembic&gt;=1.5.0-&gt;optuna)
  Downloading Mako-1.3.3-py3-none-any.whl (78 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">78.8/78.8 kB</span> <span class="ansi-red-fg">8.1 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Requirement already satisfied: typing-extensions&gt;=4 in /usr/local/lib/python3.10/dist-packages (from alembic&gt;=1.5.0-&gt;optuna) (4.11.0)
Requirement already satisfied: greenlet!=0.4.17 in /usr/local/lib/python3.10/dist-packages (from sqlalchemy&gt;=1.3.0-&gt;optuna) (3.0.3)
Requirement already satisfied: MarkupSafe&gt;=0.9.2 in /usr/local/lib/python3.10/dist-packages (from Mako-&gt;alembic&gt;=1.5.0-&gt;optuna) (2.1.5)
Installing collected packages: Mako, colorlog, alembic, optuna
Successfully installed Mako-1.3.3 alembic-1.13.1 colorlog-6.8.2 optuna-3.6.1
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optuna で探索</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span> <span class="c1">#split</span>
<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">optuna</span>
<span class="kn">import</span> <span class="nn">xgboost</span>

<span class="k">def</span> <span class="nf">objective</span><span class="p">(</span><span class="n">trial</span><span class="p">):</span>
  <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">suggest_int</span><span class="p">(</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="s1">&#39;gamma&#39;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">suggest_loguniform</span><span class="p">(</span><span class="s1">&#39;gamma&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">suggest_int</span><span class="p">(</span><span class="s1">&#39;max_depth&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
  <span class="p">}</span>

  <span class="n">model</span> <span class="o">=</span> <span class="n">xgboost</span><span class="o">.</span><span class="n">XGBClassifier</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
  <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

  <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
  <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

  <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">accuracy</span>

<span class="n">study</span> <span class="o">=</span> <span class="n">optuna</span><span class="o">.</span><span class="n">create_study</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s1">&#39;minimize&#39;</span><span class="p">)</span>
<span class="n">study</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">objective</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">best_params</span> <span class="o">=</span> <span class="n">study</span><span class="o">.</span><span class="n">best_params</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Best Parameters:&#39;</span><span class="p">,</span> <span class="n">best_params</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
[I 2024-04-12 01:25:54,588] A new study created in memory with name: no-name-8c8f9ac9-7f8a-4ac8-bc2d-6e45890a932c
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:25:57,449] Trial 0 finished with value: 0.10553664217882097 and parameters: {&#39;n_estimators&#39;: 55, &#39;gamma&#39;: 1.0796799191483775, &#39;max_depth&#39;: 28}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:25:58,531] Trial 1 finished with value: 0.3297796093889984 and parameters: {&#39;n_estimators&#39;: 11, &#39;gamma&#39;: 9.48990367707886, &#39;max_depth&#39;: 11}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:25:59,241] Trial 2 finished with value: 0.1485396882279162 and parameters: {&#39;n_estimators&#39;: 32, &#39;gamma&#39;: 1.4189347178096783, &#39;max_depth&#39;: 32}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:01,280] Trial 3 finished with value: 0.356387744131876 and parameters: {&#39;n_estimators&#39;: 79, &#39;gamma&#39;: 42.724356689344035, &#39;max_depth&#39;: 46}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:02,108] Trial 4 finished with value: 0.33560293854148004 and parameters: {&#39;n_estimators&#39;: 23, &#39;gamma&#39;: 12.26705363492341, &#39;max_depth&#39;: 25}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:03,038] Trial 5 finished with value: 0.35558143701845546 and parameters: {&#39;n_estimators&#39;: 44, &#39;gamma&#39;: 50.93921107305425, &#39;max_depth&#39;: 28}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,231] Trial 6 finished with value: 0.3573732306038344 and parameters: {&#39;n_estimators&#39;: 63, &#39;gamma&#39;: 49.72950212780968, &#39;max_depth&#39;: 43}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,372] Trial 7 finished with value: 0.2805052857910769 and parameters: {&#39;n_estimators&#39;: 56, &#39;gamma&#39;: 3.5812100118211943, &#39;max_depth&#39;: 50}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,542] Trial 8 finished with value: 0.34384518903422323 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 16.445511226050986, &#39;max_depth&#39;: 23}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,669] Trial 9 finished with value: 0.3337215552768321 and parameters: {&#39;n_estimators&#39;: 48, &#39;gamma&#39;: 11.670211230621309, &#39;max_depth&#39;: 39}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,861] Trial 10 finished with value: 0.31786418204622824 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.5069542488376422, &#39;max_depth&#39;: 4}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,078] Trial 11 finished with value: 0.10688048736785527 and parameters: {&#39;n_estimators&#39;: 34, &#39;gamma&#39;: 1.0433125541442698, &#39;max_depth&#39;: 34}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,295] Trial 12 finished with value: 0.1074180254434689 and parameters: {&#39;n_estimators&#39;: 34, &#39;gamma&#39;: 1.04709367526484, &#39;max_depth&#39;: 35}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,469] Trial 13 finished with value: 0.27056083139222364 and parameters: {&#39;n_estimators&#39;: 64, &#39;gamma&#39;: 3.2169788667553365, &#39;max_depth&#39;: 18}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,630] Trial 14 finished with value: 0.2746819566385952 and parameters: {&#39;n_estimators&#39;: 40, &#39;gamma&#39;: 3.1301558093604487, &#39;max_depth&#39;: 17}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,789] Trial 15 finished with value: 0.19763483246729974 and parameters: {&#39;n_estimators&#39;: 13, &#39;gamma&#39;: 1.9745185114333867, &#39;max_depth&#39;: 33}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,934] Trial 16 finished with value: 0.3024547572119691 and parameters: {&#39;n_estimators&#39;: 26, &#39;gamma&#39;: 4.435148627028425, &#39;max_depth&#39;: 37}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,091] Trial 17 finished with value: 0.31186167353520877 and parameters: {&#39;n_estimators&#39;: 52, &#39;gamma&#39;: 5.698412048255169, &#39;max_depth&#39;: 19}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,345] Trial 18 finished with value: 0.10965776742519262 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.0384768581412989, &#39;max_depth&#39;: 29}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,496] Trial 19 finished with value: 0.34805590395986385 and parameters: {&#39;n_estimators&#39;: 64, &#39;gamma&#39;: 25.030791724423278, &#39;max_depth&#39;: 42}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,679] Trial 20 finished with value: 0.23974198172370542 and parameters: {&#39;n_estimators&#39;: 37, &#39;gamma&#39;: 2.1086998205132086, &#39;max_depth&#39;: 12}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,914] Trial 21 finished with value: 0.11306217523741269 and parameters: {&#39;n_estimators&#39;: 30, &#39;gamma&#39;: 1.0323199459545407, &#39;max_depth&#39;: 35}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:07,084] Trial 22 finished with value: 0.21922594517111627 and parameters: {&#39;n_estimators&#39;: 23, &#39;gamma&#39;: 2.199932272176027, &#39;max_depth&#39;: 32}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:08,227] Trial 23 finished with value: 0.3599713313026339 and parameters: {&#39;n_estimators&#39;: 39, &#39;gamma&#39;: 89.76765840463712, &#39;max_depth&#39;: 39}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,113] Trial 24 finished with value: 0.15086901988890877 and parameters: {&#39;n_estimators&#39;: 48, &#39;gamma&#39;: 1.4517147418325125, &#39;max_depth&#39;: 29}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,295] Trial 25 finished with value: 0.31822254076330403 and parameters: {&#39;n_estimators&#39;: 16, &#39;gamma&#39;: 6.47005318230705, &#39;max_depth&#39;: 23}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,529] Trial 26 finished with value: 0.10526787314101416 and parameters: {&#39;n_estimators&#39;: 56, &#39;gamma&#39;: 1.0492301158588035, &#39;max_depth&#39;: 36}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,716] Trial 27 finished with value: 0.23839813653467123 and parameters: {&#39;n_estimators&#39;: 56, &#39;gamma&#39;: 2.453247628312689, &#39;max_depth&#39;: 42}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,926] Trial 28 finished with value: 0.16403870274144416 and parameters: {&#39;n_estimators&#39;: 71, &#39;gamma&#39;: 1.5644719240034393, &#39;max_depth&#39;: 48}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,132] Trial 29 finished with value: 0.3079197276473751 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 5.6420419047882024, &#39;max_depth&#39;: 26}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,349] Trial 30 finished with value: 0.13456369826196024 and parameters: {&#39;n_estimators&#39;: 58, &#39;gamma&#39;: 1.3170949769117952, &#39;max_depth&#39;: 30}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,574] Trial 31 finished with value: 0.10526787314101416 and parameters: {&#39;n_estimators&#39;: 34, &#39;gamma&#39;: 1.0494117076966223, &#39;max_depth&#39;: 36}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,754] Trial 32 finished with value: 0.19584303888192078 and parameters: {&#39;n_estimators&#39;: 46, &#39;gamma&#39;: 1.8278450157764652, &#39;max_depth&#39;: 38}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,974] Trial 33 finished with value: 0.14638953592546133 and parameters: {&#39;n_estimators&#39;: 31, &#39;gamma&#39;: 1.2973063278250145, &#39;max_depth&#39;: 33}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,136] Trial 34 finished with value: 0.24350474825300128 and parameters: {&#39;n_estimators&#39;: 18, &#39;gamma&#39;: 2.613918293970717, &#39;max_depth&#39;: 36}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,344] Trial 35 finished with value: 0.12784447231678908 and parameters: {&#39;n_estimators&#39;: 40, &#39;gamma&#39;: 1.2151308628543085, &#39;max_depth&#39;: 44}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,557] Trial 36 finished with value: 0.18446514961476435 and parameters: {&#39;n_estimators&#39;: 69, &#39;gamma&#39;: 1.7468871632626124, &#39;max_depth&#39;: 31}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,826] Trial 37 finished with value: 0.10598459057516574 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.0351318577944497, &#39;max_depth&#39;: 40}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,001] Trial 38 finished with value: 0.3269127396523921 and parameters: {&#39;n_estimators&#39;: 85, &#39;gamma&#39;: 8.082930711972068, &#39;max_depth&#39;: 45}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,215] Trial 39 finished with value: 0.285522307830138 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 3.912163444786366, &#39;max_depth&#39;: 40}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,361] Trial 40 finished with value: 0.34474108582691276 and parameters: {&#39;n_estimators&#39;: 53, &#39;gamma&#39;: 17.619811799567596, &#39;max_depth&#39;: 24}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,617] Trial 41 finished with value: 0.10410320731051781 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.0100551387819243, &#39;max_depth&#39;: 34}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,841] Trial 42 finished with value: 0.16583049632682312 and parameters: {&#39;n_estimators&#39;: 78, &#39;gamma&#39;: 1.595263525643434, &#39;max_depth&#39;: 40}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,079] Trial 43 finished with value: 0.12757570327898227 and parameters: {&#39;n_estimators&#39;: 76, &#39;gamma&#39;: 1.273304679215708, &#39;max_depth&#39;: 27}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,349] Trial 44 finished with value: 0.10455115570686258 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.0171210952825256, &#39;max_depth&#39;: 47}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,582] Trial 45 finished with value: 0.18554022576599172 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.753714935220706, &#39;max_depth&#39;: 50}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,794] Trial 46 finished with value: 0.24323597921519446 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 2.6647800583765173, &#39;max_depth&#39;: 48}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,028] Trial 47 finished with value: 0.13716179896075975 and parameters: {&#39;n_estimators&#39;: 68, &#39;gamma&#39;: 1.3045367122364546, &#39;max_depth&#39;: 21}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,275] Trial 48 finished with value: 0.13062175237412654 and parameters: {&#39;n_estimators&#39;: 60, &#39;gamma&#39;: 1.2079634481182537, &#39;max_depth&#39;: 47}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,431] Trial 49 finished with value: 0.3285253538792331 and parameters: {&#39;n_estimators&#39;: 61, &#39;gamma&#39;: 2.0269927020914325, &#39;max_depth&#39;: 3}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,631] Trial 50 finished with value: 0.2755778534312847 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 3.120068336629496, &#39;max_depth&#39;: 36}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,889] Trial 51 finished with value: 0.10069879949829774 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.022276344502298, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,164] Trial 52 finished with value: 0.10123633757391148 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0038022958321358, &#39;max_depth&#39;: 43}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,414] Trial 53 finished with value: 0.15490055545601145 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.4789181365534654, &#39;max_depth&#39;: 44}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,691] Trial 54 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0016042295724625, &#39;max_depth&#39;: 42}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,959] Trial 55 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0008841216493647, &#39;max_depth&#39;: 42}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,192] Trial 56 finished with value: 0.1566923490413904 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.528341506275303, &#39;max_depth&#39;: 46}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,448] Trial 57 finished with value: 0.13259272531804334 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.2117290969427823, &#39;max_depth&#39;: 42}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,666] Trial 58 finished with value: 0.22397419817237052 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 2.2763747284235576, &#39;max_depth&#39;: 43}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,903] Trial 59 finished with value: 0.17550618168786958 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.6990174969324923, &#39;max_depth&#39;: 38}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,157] Trial 60 finished with value: 0.13124888012900915 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.218575662845741, &#39;max_depth&#39;: 50}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,440] Trial 61 finished with value: 0.10455115570686258 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.1337310348503558, &#39;max_depth&#39;: 34}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,699] Trial 62 finished with value: 0.12139401540942485 and parameters: {&#39;n_estimators&#39;: 80, &#39;gamma&#39;: 1.1501422410910391, &#39;max_depth&#39;: 34}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,966] Trial 63 finished with value: 0.10078838917756672 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.0214564403767867, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,204] Trial 64 finished with value: 0.15660275936212154 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.4538459789267724, &#39;max_depth&#39;: 46}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,456] Trial 65 finished with value: 0.1964701666368034 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.8662321928009011, &#39;max_depth&#39;: 40}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,631] Trial 66 finished with value: 0.35459595054649706 and parameters: {&#39;n_estimators&#39;: 78, &#39;gamma&#39;: 35.20191211228863, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,876] Trial 67 finished with value: 0.15391506898405305 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.417531367498882, &#39;max_depth&#39;: 44}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:20,139] Trial 68 finished with value: 0.12139401540942485 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.1504164205074288, &#39;max_depth&#39;: 38}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:21,638] Trial 69 finished with value: 0.14934599534133663 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.3817810381778437, &#39;max_depth&#39;: 49}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:23,112] Trial 70 finished with value: 0.10231141372513886 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.004177672638135, &#39;max_depth&#39;: 46}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:23,658] Trial 71 finished with value: 0.10625335961297255 and parameters: {&#39;n_estimators&#39;: 72, &#39;gamma&#39;: 1.026681494966313, &#39;max_depth&#39;: 45}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:23,916] Trial 72 finished with value: 0.1182583766350116 and parameters: {&#39;n_estimators&#39;: 81, &#39;gamma&#39;: 1.1228275042528824, &#39;max_depth&#39;: 47}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:24,155] Trial 73 finished with value: 0.14208923132055185 and parameters: {&#39;n_estimators&#39;: 76, &#39;gamma&#39;: 1.3690837171261891, &#39;max_depth&#39;: 43}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:24,901] Trial 74 finished with value: 0.3620318939258197 and parameters: {&#39;n_estimators&#39;: 66, &#39;gamma&#39;: 76.30333528845499, &#39;max_depth&#39;: 6}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:27,910] Trial 75 finished with value: 0.18123992116108223 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.6583963891140485, &#39;max_depth&#39;: 45}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:29,868] Trial 76 finished with value: 0.10231141372513886 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.0041094588436081, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:32,553] Trial 77 finished with value: 0.20838559397957357 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 2.0010589542142125, &#39;max_depth&#39;: 39}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:38,358] Trial 78 finished with value: 0.12461924386310697 and parameters: {&#39;n_estimators&#39;: 75, &#39;gamma&#39;: 1.1668404837262567, &#39;max_depth&#39;: 48}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:40,560] Trial 79 finished with value: 0.13474287762049808 and parameters: {&#39;n_estimators&#39;: 79, &#39;gamma&#39;: 1.3146406887938278, &#39;max_depth&#39;: 37}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:43,345] Trial 80 finished with value: 0.1661888550438989 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.5549028812521357, &#39;max_depth&#39;: 32}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:43,719] Trial 81 finished with value: 0.10697007704712413 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.1024724298231026, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:45,142] Trial 82 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.0015209445095141, &#39;max_depth&#39;: 47}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:47,455] Trial 83 finished with value: 0.09487547034581612 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0046522590476756, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:50,552] Trial 84 finished with value: 0.13492205697903603 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.2932419562719661, &#39;max_depth&#39;: 34}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,262] Trial 85 finished with value: 0.11458519978498471 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.1387305112575477, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,424] Trial 86 finished with value: 0.3423221644866511 and parameters: {&#39;n_estimators&#39;: 72, &#39;gamma&#39;: 17.55620828338389, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,629] Trial 87 finished with value: 0.332108941049991 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 10.8608315423399, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,866] Trial 88 finished with value: 0.17362479842322165 and parameters: {&#39;n_estimators&#39;: 83, &#39;gamma&#39;: 1.636847136846866, &#39;max_depth&#39;: 38}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,129] Trial 89 finished with value: 0.12479842322164492 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.1377800996630514, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,379] Trial 90 finished with value: 0.15051066117183298 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.4411983261179153, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,687] Trial 91 finished with value: 0.1074180254434689 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0093329274736222, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,956] Trial 92 finished with value: 0.12757570327898227 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.2734850838140404, &#39;max_depth&#39;: 37}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,232] Trial 93 finished with value: 0.10311772083855941 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0099394989049668, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,500] Trial 94 finished with value: 0.11807919727647376 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.157813719355549, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,770] Trial 95 finished with value: 0.14432897330227556 and parameters: {&#39;n_estimators&#39;: 78, &#39;gamma&#39;: 1.3133200228338346, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,968] Trial 96 finished with value: 0.3407095502598101 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 14.637137725318652, &#39;max_depth&#39;: 35}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,231] Trial 97 finished with value: 0.10777638416054469 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.0950561686059663, &#39;max_depth&#39;: 28}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,460] Trial 98 finished with value: 0.16896613510123637 and parameters: {&#39;n_estimators&#39;: 81, &#39;gamma&#39;: 1.5170028515371445, &#39;max_depth&#39;: 31}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,687] Trial 99 finished with value: 0.20623544167711882 and parameters: {&#39;n_estimators&#39;: 70, &#39;gamma&#39;: 1.9053704342147033, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,947] Trial 100 finished with value: 0.1448665113778893 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.263193582530792, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:55,221] Trial 101 finished with value: 0.1005196201397599 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.002422056863379, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:55,499] Trial 102 finished with value: 0.10858269127396525 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.0017696861716026, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:55,775] Trial 103 finished with value: 0.14710625335961303 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.1046988331545946, &#39;max_depth&#39;: 14}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,047] Trial 104 finished with value: 0.1257839096936033 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.2211151073619844, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,289] Trial 105 finished with value: 0.14468733201935136 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.389721908021973, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,561] Trial 106 finished with value: 0.12067729797527327 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.1195761028540496, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,756] Trial 107 finished with value: 0.34671205877082956 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 22.5278915019235, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,945] Trial 108 finished with value: 0.3285253538792331 and parameters: {&#39;n_estimators&#39;: 85, &#39;gamma&#39;: 9.013350363977429, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,185] Trial 109 finished with value: 0.18016484500985486 and parameters: {&#39;n_estimators&#39;: 80, &#39;gamma&#39;: 1.6885805416016817, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,377] Trial 110 finished with value: 0.2979752732485218 and parameters: {&#39;n_estimators&#39;: 77, &#39;gamma&#39;: 4.68343206121197, &#39;max_depth&#39;: 37}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,655] Trial 111 finished with value: 0.10329690019709725 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0104581767665894, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,970] Trial 112 finished with value: 0.1064325389715105 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.089739305596776, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:58,232] Trial 113 finished with value: 0.13062175237412654 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2088678554703487, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:58,495] Trial 114 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.0008865080855056, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:58,735] Trial 115 finished with value: 0.14871886758645403 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.3909007128198374, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,020] Trial 116 finished with value: 0.12918831750582338 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.2271928483392283, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,284] Trial 117 finished with value: 0.10777638416054469 and parameters: {&#39;n_estimators&#39;: 83, &#39;gamma&#39;: 1.0941857196055687, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,535] Trial 118 finished with value: 0.1455832288120409 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.3437387987434946, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,763] Trial 119 finished with value: 0.1613510123633758 and parameters: {&#39;n_estimators&#39;: 67, &#39;gamma&#39;: 1.523238042690833, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,051] Trial 120 finished with value: 0.12829242071313385 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.1839936160392588, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,341] Trial 121 finished with value: 0.10634294929224153 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.0185820558203353, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,617] Trial 122 finished with value: 0.1058054112166279 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0071568317770963, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,915] Trial 123 finished with value: 0.11198709908618532 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.1062377969991881, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:01,198] Trial 124 finished with value: 0.1373409783192976 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.2811126021961607, &#39;max_depth&#39;: 38}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,100] Trial 125 finished with value: 0.1064325389715105 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.089399500044039, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,475] Trial 126 finished with value: 0.12802365167532703 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.204694599466418, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,738] Trial 127 finished with value: 0.1484500985486472 and parameters: {&#39;n_estimators&#39;: 85, &#39;gamma&#39;: 1.376539409782593, &#39;max_depth&#39;: 36}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,974] Trial 128 finished with value: 0.15740906647554198 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.4718635718389703, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:05,275] Trial 129 finished with value: 0.11324135459595053 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.0707427254384851, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:05,561] Trial 130 finished with value: 0.10123633757391148 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0038425851262691, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:05,841] Trial 131 finished with value: 0.10365525891417304 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0152975121715873, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,139] Trial 132 finished with value: 0.10123633757391148 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.003962256478751, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,409] Trial 133 finished with value: 0.12802365167532703 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.2046868835451778, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,688] Trial 134 finished with value: 0.10732843576419993 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0759725468707986, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,980] Trial 135 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.0007060981748803, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:07,256] Trial 136 finished with value: 0.13707220928149078 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2807272323685315, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:07,523] Trial 137 finished with value: 0.12721734456190648 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.178583931460502, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:07,821] Trial 138 finished with value: 0.10266977244221465 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0051144384553639, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,074] Trial 139 finished with value: 0.14692707400107508 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.3248333139840842, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,343] Trial 140 finished with value: 0.17452069521591118 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.5886251620722047, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,623] Trial 141 finished with value: 0.10876187063250309 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.0965424850068157, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,917] Trial 142 finished with value: 0.0995341336678015 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0203668432693611, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:09,198] Trial 143 finished with value: 0.12605267873141013 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.1859887689556792, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:09,491] Trial 144 finished with value: 0.11243504748252997 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.0927019918669838, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:09,779] Trial 145 finished with value: 0.09998208206414616 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0254975544969274, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,049] Trial 146 finished with value: 0.12918831750582338 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.2284135205995343, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,358] Trial 147 finished with value: 0.11055366421788215 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0900566586257823, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,642] Trial 148 finished with value: 0.10661171833004834 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.0014569081073337, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,922] Trial 149 finished with value: 0.14477692169862033 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.3698978105807775, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:11,193] Trial 150 finished with value: 0.11503314818132948 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.1744963210177972, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:11,497] Trial 151 finished with value: 0.10141551693244943 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.011115290831993, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:11,786] Trial 152 finished with value: 0.10777638416054469 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.093939917996184, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,068] Trial 153 finished with value: 0.10266977244221465 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.00660983471098, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,372] Trial 154 finished with value: 0.13115929044974017 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.252140394111563, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,647] Trial 155 finished with value: 0.11816878695574273 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.1704553746085868, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,886] Trial 156 finished with value: 0.15454219673893566 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.414679581470132, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,189] Trial 157 finished with value: 0.0998924923848773 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0125258414287104, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,414] Trial 158 finished with value: 0.31723705429134563 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 6.611645122975273, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,694] Trial 159 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.0016672853199802, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,984] Trial 160 finished with value: 0.11691453144597741 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.133516498405422, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:14,260] Trial 161 finished with value: 0.10661171833004834 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0013233730253777, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:15,727] Trial 162 finished with value: 0.13474287762049808 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.2772817006168644, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:17,612] Trial 163 finished with value: 0.11601863465328799 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.1157521690595065, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:17,797] Trial 164 finished with value: 0.35459595054649706 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 39.04545490944397, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,078] Trial 165 finished with value: 0.10034044078122195 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.0021333322091552, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,338] Trial 166 finished with value: 0.12148360508869382 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.1721705358443726, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,637] Trial 167 finished with value: 0.10401361763124883 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.000992397900244, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,901] Trial 168 finished with value: 0.1373409783192976 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.2808746759488525, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:19,183] Trial 169 finished with value: 0.12228991220211427 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.1074321732596328, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:19,449] Trial 170 finished with value: 0.1537358896255151 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.453944639665667, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:19,749] Trial 171 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0820047896611509, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,032] Trial 172 finished with value: 0.10983694678373046 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0811997797458366, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,296] Trial 173 finished with value: 0.13115929044974017 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.2041652657025557, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,575] Trial 174 finished with value: 0.0998924923848773 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.0125143801062901, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,857] Trial 175 finished with value: 0.135011646658305 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2967554132464358, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,129] Trial 176 finished with value: 0.1258734993728723 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.1561994308038588, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,439] Trial 177 finished with value: 0.10365525891417304 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.0150076511534978, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,703] Trial 178 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 52, &#39;gamma&#39;: 1.000664685006807, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,980] Trial 179 finished with value: 0.11736247984232218 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.1207084558428206, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:22,247] Trial 180 finished with value: 0.12838201039240282 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2573058842275513, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:22,521] Trial 181 finished with value: 0.11530191721913641 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.108444368547217, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:22,828] Trial 182 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.001700808294109, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,033] Trial 183 finished with value: 0.11315176491668155 and parameters: {&#39;n_estimators&#39;: 10, &#39;gamma&#39;: 1.0005640432630551, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,297] Trial 184 finished with value: 0.1251567819387207 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.197682718955403, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,594] Trial 185 finished with value: 0.11073284357641999 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.1036206208513024, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,886] Trial 186 finished with value: 0.10965776742519262 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.088932025658422, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,074] Trial 187 finished with value: 0.3606880487367855 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 66.04859552481543, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,294] Trial 188 finished with value: 0.148808457265723 and parameters: {&#39;n_estimators&#39;: 48, &#39;gamma&#39;: 1.3631790833600683, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,557] Trial 189 finished with value: 0.13124888012900915 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.2186167680071842, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,850] Trial 190 finished with value: 0.11306217523741269 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0795866130054708, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:25,135] Trial 191 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0006277288307286, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:25,412] Trial 192 finished with value: 0.10266977244221465 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0056546065424803, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:25,708] Trial 193 finished with value: 0.11861673535208739 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.1585796184691262, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,012] Trial 194 finished with value: 0.10983694678373046 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.081350349075206, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,285] Trial 195 finished with value: 0.12703816520336852 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.1894477086832196, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,551] Trial 196 finished with value: 0.11028489518007523 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.077923975462786, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,821] Trial 197 finished with value: 0.1428955384339724 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.3022819141008946, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:27,122] Trial 198 finished with value: 0.10311772083855941 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.0097798751457339, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:27,418] Trial 199 finished with value: 0.10858269127396525 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.0017993176115394, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Best Parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0046522590476756, &#39;max_depth&#39;: 41}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><br/><span></span><span class="c1"># 最適なパラメータを適用したモデルの宣言</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">xgboost</span><span class="o">.</span><span class="n">XGBClassifier</span><span class="p">(</span><span class="o">**</span><span class="n">best_params</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">best_params</span><span class="p">)</span>

<span class="c1"># モデルの学習</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># モデルの予測</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># モデルの評価</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Accuracy:&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0046522590476756, &#39;max_depth&#39;: 41}
Accuracy: 0.9051245296541839
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># モデルの影響度</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">importances</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">feature_importances_</span>

<span class="c1"># Create a list of column names</span>
<span class="n">column_names</span> <span class="o">=</span> <span class="n">mldata</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;売上&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># Create a DataFrame with the column names and importances</span>
<span class="n">importance_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Column Name&#39;</span><span class="p">:</span> <span class="n">column_names</span><span class="p">,</span> <span class="s1">&#39;Importance&#39;</span><span class="p">:</span> <span class="n">importances</span><span class="p">})</span>

<span class="c1"># Sort the DataFrame by the importance values</span>
<span class="n">importance_df</span> <span class="o">=</span> <span class="n">importance_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Importance&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot the importances</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Importance&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Column Name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">importance_df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Feature Importances&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Importance Value&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Column Name&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_90_0.png" src="../_images/src_01_90_0.png" />
</div>
</div>
<p>重回帰分析まで一緒に行って、２周目を受講者に演習かなーと思ってます</p>
</section>
</section>
</section>
<section id="C(conclusion、結論)：分析結果の考察、結論">
<h1>C(conclusion、結論)：分析結果の考察、結論<a class="headerlink" href="#C(conclusion、結論)：分析結果の考察、結論" title="Link to this heading"></a></h1>
<p>２つの分析結果から結論を導く</p>
<p>分析から得られた結果： - 売上にはローンの有無が影響を与える - 成約率には持ち家の有無が影響を与える 寄り高度な分析を行ったところ持ち家の有無が、成約に大きな影響があることがわかりました。持ち家の有無と成約について確認してみましょう。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 持ち家の有無と成約の有無についてまとめて</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1"># 持ち家の有無と成約の有無のクロス集計</span>
<span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;持ち家の有無&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-b7f1aae5-5e53-4fbb-8bd4-e1c9d022004d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>成約の有無</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
    </tr>
    <tr>
      <th>持ち家の有無</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2527</td>
      <td>3354</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3346</td>
      <td>1935</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-b7f1aae5-5e53-4fbb-8bd4-e1c9d022004d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-b7f1aae5-5e53-4fbb-8bd4-e1c9d022004d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-b7f1aae5-5e53-4fbb-8bd4-e1c9d022004d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-6673305f-f0b0-46e6-a8de-84a9bab05681">
  <button class="colab-df-quickchart" onclick="quickchart('df-6673305f-f0b0-46e6-a8de-84a9bab05681')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-6673305f-f0b0-46e6-a8de-84a9bab05681 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 年齢列を10代ごとに区切って</span>

<span class="n">data</span><span class="p">[</span><span class="s1">&#39;年齢の10の位&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;年齢&#39;</span><span class="p">]</span> <span class="o">//</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-e10a648b-0d61-4d99-bfad-514eaf2f7913" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>年齢の10の位</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>50.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>23.43</td>
      <td>50.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>0.45</td>
      <td>50.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>12.70</td>
      <td>40.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>24.76</td>
      <td>50.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>50.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>1.84</td>
      <td>50.0</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e10a648b-0d61-4d99-bfad-514eaf2f7913')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e10a648b-0d61-4d99-bfad-514eaf2f7913 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e10a648b-0d61-4d99-bfad-514eaf2f7913');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-bcc061aa-5fdd-44e7-8af4-fe4e2547dc93">
  <button class="colab-df-quickchart" onclick="quickchart('df-bcc061aa-5fdd-44e7-8af4-fe4e2547dc93')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-bcc061aa-5fdd-44e7-8af4-fe4e2547dc93 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 年齢列と持ち家の有無、成約の有無の関係性を可視化して</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># 年齢の10の位と持ち家の有無、成約の有無の関係性を可視化</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">df_tmp</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;年齢の10の位&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">i</span><span class="p">)]</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_tmp</span><span class="p">[</span><span class="s1">&#39;持ち家の有無&#39;</span><span class="p">],</span> <span class="n">df_tmp</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;年齢</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">代&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_96_0.png" src="../_images/src_01_96_0.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_96_1.png" src="../_images/src_01_96_1.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_96_2.png" src="../_images/src_01_96_2.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_96_3.png" src="../_images/src_01_96_3.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_96_4.png" src="../_images/src_01_96_4.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_96_5.png" src="../_images/src_01_96_5.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_96_6.png" src="../_images/src_01_96_6.png" />
</div>
</div>
<p>20,60,70 代の持ち家のない人が成約をしている。</p>
<p>60 代の人の持ち家のない人の詳細を探索する</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 60代で持ち家の有無が0の人の職業は</span>

<span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;年齢の10の位&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">60</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;持ち家の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)][</span><span class="s1">&#39;仕事&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
仕事
retired          214
management        60
admin.            25
housemaid         25
blue-collar       21
technician        20
self-employed     14
entrepreneur       7
unemployed         6
unknown            3
services           2
Name: count, dtype: int64
</pre></div></div>
</div>
<p>Retireしている人が多い。</p>
<p>持ち家が0の人のとローンの有無と売上の関係を可視化</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 持ち家が0の人のとローンの有無と売上の関係を可視化して</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">loan_no_df</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;持ち家の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">loan_no_df</span><span class="p">[</span><span class="s1">&#39;ローンの有無&#39;</span><span class="p">],</span> <span class="n">loan_no_df</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;持ち家なしのローンの有無と成約の有無&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_01_102_0.png" src="../_images/src_01_102_0.png" />
</div>
</div>
<section id="最終結論">
<h2>最終結論<a class="headerlink" href="#最終結論" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">・データ分析の結果、持ち家の有無が成約数に大きな影響を与える。中でも60代以降の高齢者で仕事を退職した、持ち家のない人を優先的にアプローチしていく。</div>
<div class="line">・更に、持ち家も、ローンもない人は定期預金口座に対して貯金も多くしてくれることがわかった。</div>
<div class="line">・営業マンによる、力量の差はほとんどないことがわかった。</div>
</div>
</section>
</section>
<section id="以下はメモ">
<h1>以下はメモ<a class="headerlink" href="#以下はメモ" title="Link to this heading"></a></h1>
<section id="一次結論">
<h2>一次結論<a class="headerlink" href="#一次結論" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>retired の年配の人は売上は少ないが成約率は高い。retired がより貯金を視野するくなるキャンペーンを考える</p></li>
<li><p>顧客の母数は少ないが、独身の起業家や自営業にアプローチを行い、より売上の上げやすい営業を行う</p></li>
</ul>
</section>
<section id="二次分析">
<h2>二次分析<a class="headerlink" href="#二次分析" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>retired の預金をしている人とそうでない人の違い、属性の差はなにか</p></li>
<li><p>起業家・自営業の結婚してない人の母数や属性はなにか詳細化する</p></li>
<li><p>預金できる余裕のある人の属性を探す</p></li>
</ul>
<section id="職業別分析">
<h3>職業別分析<a class="headerlink" href="#職業別分析" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">分析内容： データセットの職業</div>
<div class="line">職業別の年齢、中央値年齢がもっとも高いのが退職者・低いのが学生であっているかどうか</div>
<div class="line">職業別残高口座残高が多いのは退職者と経営者？</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 箱ひげ図で仕事ごとの年齢の分布を確認する</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Create a figure and axes</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="c1"># Create a boxplot for each job title</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;仕事&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;年齢&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="c1"># Set the title and labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Age distribution by job title&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Job title&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Age&quot;</span><span class="p">)</span>

<span class="c1"># Rotate the x-axis labels for better readability</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

<span class="c1"># Show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 仕事ごとの銀行残高が比較できるグラフを書いて。balanceの最大値を25にしてください。</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># Create a figure and axes</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="c1"># Create a boxplot for each job title</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;仕事&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;銀行残高&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="c1"># Set the title and labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Bank balance distribution by job title&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Job title&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Bank balance&quot;</span><span class="p">)</span>

<span class="c1"># Set the maximum value for the y-axis</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mi">25000</span><span class="p">)</span>

<span class="c1"># Rotate the x-axis labels for better readability</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

<span class="c1"># Show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 仕事ごとの銀行残高の統計指標</span>

<span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;仕事&quot;</span><span class="p">)[</span><span class="s2">&quot;銀行残高&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<p>職業別分析結果： 職業数： このデータセットでは、管理職がより多い。 職業別年齢： 予想通り、中央値年齢が最も高いのは退職者であり、最も低いのは学生である。 職業別バランス： 口座残高が最も多いのは経営者と退職者。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># !pip install japanize_matplotlib</span>
<span class="c1"># sns.set(font=&quot;IPAexGothic&quot;)</span>
<span class="c1"># import japanize_matplotlib</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># # 数値データのみを抽出</span>
<span class="c1"># numerical_data = data.select_dtypes(include=[&#39;int64&#39;, &#39;float64&#39;])</span>

<span class="c1"># # 相関分析の実行</span>
<span class="c1"># correlation_matrix = numerical_data.corr()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># print(correlation_matrix)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># !pip install japanize-matplotlib</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import japanize_matplotlib</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># plt.figure(figsize=(12, 8))</span>
<span class="c1"># sns.heatmap(correlation_matrix.iloc[:20, :20], annot=True);</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># data.drop([&#39;month&#39;,&#39;客へ最後に連絡した際の連絡手段&#39;,&#39;連絡で接触した時間（秒数&#39;], axis=1, inplace=True)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># #ワンホットエンコーディング</span>
<span class="c1"># data = pd.get_dummies(data, drop_first=True)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># data.head()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># # 相関分析の実行</span>
<span class="c1"># correlation_matrix = data.corr()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># plt.figure(figsize=(12, 8))</span>
<span class="c1"># sns.heatmap(correlation_matrix.iloc[:20, :20], annot=True);</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="データ分析を行い、影響度合いを調べる">
<h2>データ分析を行い、影響度合いを調べる<a class="headerlink" href="#データ分析を行い、影響度合いを調べる" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><br/><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;/content/bankdata-analyticsdata.xlsx&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 数値データだけを使用して相関分析を行ってください。結果をデータフレームに変換してください。</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 数値データのみを抽出</span>
<span class="n">numerical_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;int64&#39;</span><span class="p">,</span> <span class="s1">&#39;float64&#39;</span><span class="p">])</span>

<span class="c1"># 相関分析の実行</span>
<span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">numerical_data</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

<span class="c1"># データフレームに変換</span>
<span class="n">correlation_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">)</span>

<span class="c1"># 相関分析の結果を表示</span>
<span class="nb">print</span><span class="p">(</span><span class="n">correlation_df</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">correlation_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="目的：営業支援">
<h2>目的：営業支援<a class="headerlink" href="#目的：営業支援" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">業務支援を行いたい。成約と売上に影響を与える要因の解明である。 大きく２軸で分析を行う</div>
<div class="line"><strong>より多くの売上を上げるための分析を行う</strong></div>
<div class="line">- 顧客属性による成約率の要因をみる</div>
<div class="line">- 営業マンの力量による成約率の要因をみる</div>
</div>
<p>本来、実務であれば両方の要因を考慮し分析を行うが本日は別々のタスクとして分析を行っていく。</p>
<section id="前提となるデータと課題設定">
<h3>前提となるデータと課題設定<a class="headerlink" href="#前提となるデータと課題設定" title="Link to this heading"></a></h3>
<p>ある銀行で定期預金加入のキャンペーンがあります。 データは過去１ヶ月分のキャンペーンへの営業データ データはお客様情報と営業が成功したか否か、営業を行った営業マンと成約した際の売上のデータとなっている。 営業を行うには限りがあるため、データ分析を行い、効率的に営業が出来るよう支援を行いたい。</p>
</section>
</section>
<section id="講座の流れ">
<h2>講座の流れ<a class="headerlink" href="#講座の流れ" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">データ分析の流れを抑えながら、1次目標を達成すべく、ハンズオン形式での分析を行う。</div>
<div class="line">一次目標を達成し、次は受講生自身で２次目標を達成し最終結果に近いアウトプットを提出する。</div>
</div>
<section id="１次目標">
<h3>１次目標<a class="headerlink" href="#１次目標" title="Link to this heading"></a></h3>
<p>成約率の高い顧客の傾向を掴む カイ二乗検定の結果、最終学歴も成約率に関連性があることがわかった。 最も売上の高い、成約数の高い営業を見つけ出す</p>
<p>手順１ データの概要を理解する。様々な可視化を行い、データの傾向、概要理解する。 - 欠損値の確認、データの大きさの確認 - 無関係な列を削除し、欠損値や不正な値を処理し、カテゴリ列をダミー変数に変換します(データ処理) - 機械学習技術を使用して、マーケティング キャンペーンの結果を予測し、キャンペーンの成功に影響を与える要因を見つけます。（検証・統計分析）</p>
<p>手順2 成約数と他の列の関係を確認し、仮説建てを行う。</p>
</section>
<section id="２次目標">
<span id="id31"></span><h3>２次目標<a class="headerlink" href="#２次目標" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">具体的にいくつの年齢が最も成約率が高いのか探索する</div>
<div class="line">銀行残高はいくら以上が良いのかを見る</div>
</div>
</section>
<section id="得られる結果（最終結果）">
<h3>得られる結果（最終結果）<a class="headerlink" href="#得られる結果（最終結果）" title="Link to this heading"></a></h3>
<p>分析の主な結果は、今後のマーケティング・キャンペーンに対する推奨事項である：</p>
<p>顧客の口座残高は、キャンペーンの結果に大きな影響を与える。口座残高が1490ドル以上の人は定期預金に加入する可能性が高いので、今後はそのような顧客を対象にする。 顧客の年齢もキャンペーンの結果に影響する。今後のキャンペーンでは、30歳以下と50歳以上の顧客に集中的にアプローチすべきである。 キャンペーン中の顧客との接触回数も非常に重要である。顧客との接触回数は4回を超えるべきではありません。 営業マンによって成約の差はないと言える。</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">freeze</span> <span class="o">&gt;</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, trainocate.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>