<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>D(data、データ収集)：データの収集・整理 &mdash; Sphinx  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=c033477b"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=4dbe4bdc"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="A(analysis、分析)：データに基づく分析、処理" href="04.html" />
    <link rel="prev" title="P(problem、問題)：問題の把握と明確化 ＆ P(plan、計画)：仮説の設定・調査分析の計画" href="02.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Sphinx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="0.html">〜研修へようこそ</a></li>
<li class="toctree-l1"><a class="reference internal" href="01.html">データ分析とは</a></li>
<li class="toctree-l1"><a class="reference internal" href="02.html">P(problem、問題)：問題の把握と明確化 ＆ P(plan、計画)：仮説の設定・調査分析の計画</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">D(data、データ収集)：データの収集・整理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#効率の良いデータ収集">効率の良いデータ収集</a></li>
<li class="toctree-l2"><a class="reference internal" href="#データの最適化">データの最適化</a></li>
<li class="toctree-l2"><a class="reference internal" href="#データの理解をする">データの理解をする</a></li>
<li class="toctree-l2"><a class="reference internal" href="#データを理解する【実装】">データを理解する【実装】</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#データの全体像の理解">データの全体像の理解</a></li>
<li class="toctree-l3"><a class="reference internal" href="#集計---単純集計">集計 - 単純集計</a></li>
<li class="toctree-l3"><a class="reference internal" href="#可視化：円グラフ">可視化：円グラフ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#可視化：ヒストグラム">可視化：ヒストグラム</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#データとデータから新しい情報を得る">データとデータから新しい情報を得る</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#データの種類">データの種類</a></li>
<li class="toctree-l3"><a class="reference internal" href="#成約の有無と他の列の関係性を確認する">成約の有無と他の列の関係性を確認する</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="04.html">A(analysis、分析)：データに基づく分析、処理</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-01.html">検定とは（推測統計）</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-01.html#統計的仮説検定">統計的仮説検定</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-01.html#t-検定:-等分散を仮定した２標本による検定-の実装">t-検定: 等分散を仮定した２標本による検定 の実装</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-01.html#カイ二乗検定">カイ二乗検定</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-01.html#カイ二乗検定の実装">カイ二乗検定の実装</a></li>
<li class="toctree-l1"><a class="reference internal" href="05.html">演習：データ分析を行い、データに基づく営業支援のための施策を立てる</a></li>
<li class="toctree-l1"><a class="reference internal" href="06.html">C(conclusion、結論)：分析結果の考察、結論</a></li>
<li class="toctree-l1"><a class="reference internal" href="07.html">【補足】 分析結果の考察、結論</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sphinx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">D(data、データ収集)：データの収集・整理</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/src/03.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="D(data、データ収集)：データの収集・整理">
<h1>D(data、データ収集)：データの収集・整理<a class="headerlink" href="#D(data、データ収集)：データの収集・整理" title="Link to this heading"></a></h1>
<div class="line-block">
<div class="line">では、次のステップに進みます。 ここではデータの収集収集と整理を行い、収集されたデータに対しての理解を深めます。</div>
<div class="line">グラフ化などは一部、分析と重複する部分もありますがデータの理解という文脈でも使用できます。</div>
</div>
<section id="効率の良いデータ収集">
<h2>効率の良いデータ収集<a class="headerlink" href="#効率の良いデータ収集" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">本講座ではデモデータがありますが、実務においてはじめからデータが用意されていることはそう多くはありません、データ収集の考え方として、集めやすいデータから集めるといった考え方があります。</div>
<div class="line">前提として、データは大きく一次データと二次データがあります。</div>
</div>
<ul>
<li><p>一次データ：目的に沿って新たに収集されるデータ、収集には時間とコストがかかる。例えば分析の目的に合わせたアンケートデータなど</p></li>
<li><div class="line-block">
<div class="line">二次データ:他の目的によってすでに収集済みのデータ。具体的には通常業務で収集されている、販売データや顧客データ、官公庁などの統計データなどがあります。</div>
<div class="line">必ずしも目的にあったデータではないため、加工や個人情報が含まれるデータを扱う際には注意が必要です。</div>
</div>
</li>
</ul>
<p>データはやみくもに収集してはいけません。先程紹介したイシューツリーを使用して、大枠の問題を頂点として、考えられる要因や仮説、それらを検証するデータと展開を行います。</p>
<div class="line-block">
<div class="line">そして、データがしぼられてきたら、二次データのようなすぐに収集出来るデータを優先して集めます。</div>
<div class="line">データソースは内部だけではなく、外部のデータも候補に入れます。</div>
<div class="line">そして全てのデータが集まらなくても、集まったで０他だけで出来る仮説の検証を始めます。</div>
</div>
</section>
<section id="データの最適化">
<h2>データの最適化<a class="headerlink" href="#データの最適化" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">ここで伝える処理というのは検定や分析ではありません。 2次データを収集し分析をしようとすると、そもそものデータが分析の目的で集められているわけではないため、関係のないデータが混在しています。</div>
<div class="line">このようなデータ取捨選択する必要があります。</div>
</div>
<p>ポイント - 必要最低限必要なデータより余裕をもたせる 検証・分析に必要なデータに絞り込むのではなく、幅をもたせます。分析や検証を行っていくと違う切り口で分析をしたりすることがあります。例えばあるAという商品を分析する時、Aの販売データだけではなく、同じ系列や競合のデータがあることによってより多角な検証を行うことが可能になります。</p>
<ul class="simple">
<li><p>必要に応じて異常値を取り除く 明らかに他のデータより値が大きかったりすることがあります。このような異常値のデータは分析や検証を行う上でマイナスの要因となってします可能性があります。
例えば、自然災害などの発生により集客ができなかったなど、このように突然発生するインシデントにより異常値が入っていたり、入力ミスなどで異常値が含まれることがあります。
異常値に対する分析が必要なこともありますので適宜判断を行う必要があります。散布図などにプロットすることによって異常値を見つけやすくなります。 また、外れ値除去の方法として３シグマ法等といった手法もあります。こちらはより発展的な内容ですので名前だけ紹介します。</p></li>
</ul>
</section>
<section id="データの理解をする">
<h2>データの理解をする<a class="headerlink" href="#データの理解をする" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">データの取捨選択と平行しながらデータの理解を進めます。</div>
<div class="line">実際に収集したデータがどのようなデータなのかわからないと、分析や検証を行うこともできません。データは必要に応じてグラフ化をしたり、ピボットテーブルを作成することによってより、データに対する理解を深めることができます。</div>
<div class="line">結果によっては新たな仮説を立てることもあります。</div>
<div class="line">では、本講座で使用する銀行のデータを見てみましょう。</div>
</div>
</section>
<section id="データを理解する【実装】">
<h2>データを理解する【実装】<a class="headerlink" href="#データを理解する【実装】" title="Link to this heading"></a></h2>
<section id="データの全体像の理解">
<h3>データの全体像の理解<a class="headerlink" href="#データの全体像の理解" title="Link to this heading"></a></h3>
<p>この様なデータ全体の特徴を数値で表したものを代表値と呼び、これには以下のような種類があります。</p>
<p>平均値（Mean）・最頻値（Mode）・中央値（Median） それぞれ意味合いは以下です。 意味</p>
<ul class="simple">
<li><p>平均値：データの個数、観測値など数値を合計し、その数値の個数で割った値</p></li>
<li><p>最頻値：データの中で最も出現する値</p></li>
<li><p>中央値：データを小さい順に並べたときの中央に位置する値</p></li>
</ul>
<p>※ 具体的な計算方法などは補足をご確認ください。</p>
<p>この代表値を扱う際に重要なこととして、データの特徴を表現する際に １ つの代表値だけで判断しないことが挙げられます。 実際に確認をしてみましょう。</p>
</section>
<section id="集計---単純集計">
<h3>集計 - 単純集計<a class="headerlink" href="#集計---単純集計" title="Link to this heading"></a></h3>
<p>今回のような数値が独立して何かの意味を表現しているものの場合には、どのような値がどのような割合で含まれているかに注目される事が多いです。このような場合には、円グラフを用います。</p>
<p>まずは、成約の有無の値を確認してみましょう。</p>
<p>今回データには 0（成約無）,1（成約）の数値が入っています。 次にどのくらいその値が含まれているのか、頻度の集計を行いましょう。 これには COUNTIF 関数を使用します。 COUNTIF(範囲,条件) の様に値を渡します。</p>
<p>画像</p>
<p>うまく集計ができました。 続けて、職業やローンの有無列も単純集計を行いましょう。</p>
</section>
<section id="可視化：円グラフ">
<h3>可視化：円グラフ<a class="headerlink" href="#可視化：円グラフ" title="Link to this heading"></a></h3>
<p>次に先程算出した頻度を可視化して直感的に理解しやすくします。 データ分析では、結果を誰かに伝える必要があるため、可視化を用いて結果を説明される誰かが直感的に分かるようにする必要があります。 先程算出した頻度の部分を選択して、「挿入」 → 「円グラフ」の順に進めます。</p>
<p>次に、グラフエリアで右クリック → 「データラベルの追加」</p>
<p>加えて、グラフエリアで右クリック → 「データラベルの書式設定」 → 「ラベルの内容」のパーセンテージにチェックを入れます。</p>
<p>グラフのデータを確認します。 グラフエリアで右クリック → 「グラフデータの選択」 → 「横（項目）軸ラベル」に成約の値が指定されていることを確認します。</p>
<p>以下のようにチェックが入っていれば OK をクリックします。 表示されている割合や実数値と、グラフの凡例が正しい事を確認しておいてください。</p>
<p><img alt="maru" src="../_images/001.png" /></p>
<p>続いて職業も同じ用に円グラフで可視化を行いましょう。</p>
<p><img alt="maru2" src="../_images/002.png" /></p>
<div class="line-block">
<div class="line">画像のように可視化ができれば完了です。</div>
<div class="line">可視化をすることにより、より端的にデータを把握することができました。</div>
</div>
</section>
<section id="可視化：ヒストグラム">
<h3>可視化：ヒストグラム<a class="headerlink" href="#可視化：ヒストグラム" title="Link to this heading"></a></h3>
<p>年齢のような連続値のデータの場合、先程のように割合を見ても良いですが、割合の分割数が多いため、解釈がしにくく、最適ではありません。このような場合は、分布を確認します。分布はヒストグラムで確認します。 年齢の列を選択したままで、「挿入」 → 「ヒストグラム」を選択します。</p>
<p>ヒストグラムはデータをある特定の区間で区切ることで、区間の個数や各区間でのばらつきを表示するグラフで、例えば身長のような連続する値の場合に使用することが適した可視化の方法です。</p>
<p>ヒストグラムは、区間でデータを区切ります。身長で言えば、120~130、140〜150、のように区切るイメージです。この区間のことを bin と呼びます。 ヒストグラムでは、bin の幅を調整することができます。</p>
<p>ここまでで以下のようなヒストグラムが作成できます。</p>
<p>Excel　のヒストグラムは、bin を自動で設定してくれますが、この状態だとうまく表現できているとは言えない場合があります。今回も bin　の調整する必要が理想です。 bin の調整にはいくつか方法がありますが、今回は数を調整します。 「右クリック」 → 「軸の書式設定」 → 「ビンの幅」を 5 に変更します。</p>
<p><img alt="maru3" src="../_images/003.png" /></p>
<p>画像の用に年代ごとでの可視化を行うことができました。データを見てみると 30 代の顧客のデータが多いことがわかりました。</p>
<p>例）データから分かること - リストの平均年齢41歳 - リストの平均残高1450.296ドル - 成約数、不成約の数はあまり変わらない - 2000 サンプルと16列あることがわかる</p>
<p>演習）他にどのようなことがわかるか書き出してみよう。 5分</p>
<p>この用にデータを可視化し、理解を深めることによって分析の指針を決定することも可能です。フレームワークの都合上、先に仮説の設定を紹介しましたが、この段階でデータから仮説を考えることも可能です。</p>
<p>この用にデータを可視化し、理解を深めることによって分析の指針を決定することも可能です。フレームワークの都合上、先に仮説の設定を紹介しましたが、この段階でデータから仮説を考えることも可能です。</p>
</section>
</section>
<section id="データとデータから新しい情報を得る">
<h2>データとデータから新しい情報を得る<a class="headerlink" href="#データとデータから新しい情報を得る" title="Link to this heading"></a></h2>
<p>それぞれのデータを確認し、データの大枠の理解が進みました。次に複数のデータをまとめたり、分解おこない、更に詳細な理解を深めます。</p>
<p>様々な視点でデータを確認することによって、新しい発見をする可能性が高まります。 集計・可視化を上手く使用すると 2 変数の関連性を理解することが可能です。</p>
<section id="データの種類">
<h3>データの種類<a class="headerlink" href="#データの種類" title="Link to this heading"></a></h3>
<p>2 変数の関連性を正しく理解するにはデータの種類と尺度について理解している必要があります。ここまで何気なくデータを扱ってみましたが、データにはその種類に明確な区分が存在します。まずは、全体像を以下の図から確認します。</p>
<p><img alt="data" src="https://life-analyze24.com/wp-content/uploads/2021/04/datasyurui-768x457.png" /></p>
<p>データは大きく、質的データと量的データに区別することができます。質的データとは数値に直接置き換えることができないデータを指します。性別（男女）、旅行の目的（ビジネス・旅行 etc…）がそれに当たります。</p>
<p>質的データはさらにその尺度の種類で 2 つに分けることができます。1 つは性別のように順序に意味がないものです。このような尺度を名義尺度と呼びます。もう 1 つが食べログの満足度(0,1,2)のように順序に意味があるものです。この様な尺度を順位尺度と呼びます。</p>
<p>これらは見分けるのが難しいのですが、コツとして数値に仮に置き換えて考えてみると良いです。例えば、性別において 男性 : 1 、女性 : 0 と置き換えて考えます。数値として扱うとこの 2 つには差が存在しますが、その差に厳密な意味は存在しません。それに対して満足度は、満足度を 満足 ： １、普通 : 2、不満足 : 0 と置き換えた場合、この数値の差には意味が存在することが分かります。つまり 0 ~ 2 の数値には順序の概念があります。</p>
<p>質的データの対になるものに量的データがあります。量的データとは年齢や売上などのそのまま数値で取り扱えるデータです。量的データは数字の変化が連続的であることが特徴です。例えば、先程挙げた満足度も、1 ~ 5 で評価してください。とアンケートを取った場合には、量的データとも捉えることができます。本コースでは満足度を含めた評価点はすべて量的データとして取り扱います。</p>
<p>量的データも尺度によって 2 つに分けることができます。１ つは年齢のように、数値の間隔に意味があるものです。この様な尺度を間隔尺度と呼びます。もう １ つが売上のように比にも意味があり、単純に 〇〇 倍のように表現できるものです。この様な尺度を比例尺度と呼びます。</p>
<p>これは 0 が本当になにもないことを指しているかで見分けます。年齢が 0 は、本当になにもないことを指していませんが、売上が 0 は本当になにもないことを示しています。</p>
<p>先程挙げたデータの種類の組み合わせによって、関連性の把握する方法が異なります。 <img alt="ddd" src="https://public-psychologist.systems/wp/wp-content/uploads/2021/05/sihyou-1024x299.png" /> *質的変数×量的変数→平均値の比較</p>
<p>実際に今回のデータに対しても、クロス集計や散布図を用いて関係性の把握を行いましょう。</p>
</section>
<section id="成約の有無と他の列の関係性を確認する">
<h3>成約の有無と他の列の関係性を確認する<a class="headerlink" href="#成約の有無と他の列の関係性を確認する" title="Link to this heading"></a></h3>
<p>それでは、クロス集計を使用して、職業と成約の有無の関係を見てみましょう。 Excel では、クロス集計を関数を使用して実装することも可能ですが、今回はピポッドテーブルを使用しましょう。 ピボットテーブルを使用するために元のデータから必要な変数のみをコピーしてデータを用意します。 データを用意できたら、満足度と性別の列を選択した状態で、「挿入」 → 「ピボットテーブル」の順で進みます。 以下の図のように、列に職業、行に成約の有無、値に成約の有無を選択します</p>
<p><img alt="pibot" src="../_images/0004.png" /></p>
<p>クロス集計を用いると、引退した方や失業者と行った方の成約が多いことがわかります。</p>
<p>ピボットテーブルを可視化する場合には、棒グラフにすると関連性が分かりやすくなります。 ピボットテーブルを選択した状態で、「挿入」 → 「棒グラフ」を選択します。</p>
<p><img alt="pibotgrah" src="../_images/0005.png" /></p>
<p>上記のように可視化できていれば成功です。 非常に簡単に可視化ができました。</p>
<p>以下の項目に関して関連性を見る可視化を行ってみましょう。</p>
<p>成約の有無 - 結婚状況</p>
<p>成約の有無 - 最終学歴</p>
<p>最終的には以下のようになっていれば正解です。</p>
<p><img alt="answer" src="../_images/0006.png" /></p>
<p>実際に 2 変数をクロス集計や散布図を用いて描画することによって、データのさらなる理解が深まりました。 - 「ブルーカラー」や「接客」の仕事に就いている顧客は、断られることが多い - 既婚の顧客は定期預金を契約する可能性が低くそう - 最終学歴が中等教育だと成約が数が低そう - Retire（退職）している人の成約率が高い</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="02.html" class="btn btn-neutral float-left" title="P(problem、問題)：問題の把握と明確化 ＆ P(plan、計画)：仮説の設定・調査分析の計画" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="04.html" class="btn btn-neutral float-right" title="A(analysis、分析)：データに基づく分析、処理" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, trainocate.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>