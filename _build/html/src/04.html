<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A(analysis、分析)：データに基づく分析、処理 &mdash; Sphinx  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=c033477b"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=4dbe4bdc"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Sphinx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="0.html">〜研修へようこそ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sphinx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">A(analysis、分析)：データに基づく分析、処理</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/src/04.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="A(analysis、分析)：データに基づく分析、処理">
<h1>A(analysis、分析)：データに基づく分析、処理<a class="headerlink" href="#A(analysis、分析)：データに基づく分析、処理" title="Link to this heading"></a></h1>
<div class="line-block">
<div class="line">ここまでデータの理解を進めました。 クロス集計や散布図を用いて可視化を行いデータの分析を行うことを探索的分析といいます。</div>
<div class="line">本章では探索的分析ではなく、分析や検定について紹介します。</div>
</div>
<section id="多変量解析の基礎---相関と回帰分析">
<h2>多変量解析の基礎 - 相関と回帰分析<a class="headerlink" href="#多変量解析の基礎---相関と回帰分析" title="Link to this heading"></a></h2>
<p>多変量解析（単変量解析を含む）では、予測・要因分析が可能です。つまり、データ間にある関係性を捉えることができます。更に良い点として、分析において重要な、ある変数にある変数がどのように影響しているのかを数値的に評価することができます。つまり、うまく解析を進めると変数の因果関係を読み取ることも可能なのです。</p>
<p>まとめると、多変量解析の手法では以下のような関係性を見つけることができます。また、数値で相対的に目的変数に対する影響度を比較することが可能です。（全ての多変量解析の手法がそうであるわけではありません。）</p>
<section id="相関分析">
<h3>相関分析<a class="headerlink" href="#相関分析" title="Link to this heading"></a></h3>
<p>相関分析とは文字通り、変数同士の相関を見る分析方法です。相関とは、互いに影響しあっているような状態または、関係の事を指します。</p>
<p>例えば、アイスの販売数と気温には、気温が上がればアイスが売れるという関係がありますが、これは相関のわかりやすい一例です。 相関分析を使用すると、関連性を相関係数という数値で定量的に評価することが可能です。つまり、相関分析とは、2 種類のデータの関係性の強さを、相関係数という数値で表す分析手法です。</p>
</section>
<section id="相関分析の実装">
<h3>相関分析の実装<a class="headerlink" href="#相関分析の実装" title="Link to this heading"></a></h3>
<p>下記について相関関係があるかどうかを調べます。</p>
<ul class="simple">
<li><p>年齢と銀行残高の相関関係</p></li>
<li><p>売上と銀行残高の相関関係</p></li>
</ul>
<p><img alt="01" src="../_images/01.png" /> <img alt="02" src="../_images/02.png" /></p>
<div class="line-block">
<div class="line">画像のような結果になります。銀行残高と年齢には相関関係はあまりなさそうですが、銀行残高と売上に関しては相関がありそうです。</div>
<div class="line"><strong>もともとの預金の多い人が定義預金講座を開講後も多くのお金を預けてくれる可能性が高い</strong>ということがわかりました。逆に<strong>我々の顧客は年齢によって銀行残高（貯金）に差があるということは言えない</strong>ということもわかりました。</div>
</div>
</section>
<section id="相関係数をみる">
<h3>相関係数をみる<a class="headerlink" href="#相関係数をみる" title="Link to this heading"></a></h3>
<p>可視化を行うことでおおよそ 2 つの変数の間に関連性があることが分かりました。 ですが現状は、確かにありそうであることは分かっても、「どれが最も関連性が強いですか？」という問いに回答できません。 つまりは相対的に比較ができる定量的な指標があればよいのですが、そこで相関係数が有効に用いることができます。</p>
<p>相関係数は、excelのデータ分析機能を使用して簡単に算出できます。　　 ここは、すべてのデータを使って確認します。（各満足度で絞ると、相関関数の計算の都合上、エラーとなってしまうためです）</p>
<p><img alt="04" src="../_images/04.png" /></p>
<p>相関の設定は下記のようにしてください。 <img alt="05" src="../_images/05.png" /></p>
<p>入力範囲 : データ全体 先頭行をラベルとして使用 : ☑</p>
<p>結果以下のような値が算出されていれば成功です。 <img alt="03" src="../_images/03.png" /></p>
<div class="line-block">
<div class="line">相関係数としても売上と銀行残高に0.656648808と算出されています。これが相関係数です。</div>
<div class="line">一般的な指標でみるとやや相関あり、という結果です。</div>
<div class="line">売上は成約が行われると初めて発生するものであり、成約がされてない→売上=0の行に影響されていることを考慮しましょう。</div>
<div class="line">　　 他の変数との組み合わせで相関係数を見ることができれば、どの変数が相関が高いのかについて答えることが可能です。</div>
</div>
</section>
<section id="【発展】因果関係">
<h3>【発展】因果関係<a class="headerlink" href="#【発展】因果関係" title="Link to this heading"></a></h3>
<div class="line-block">
<div class="line">相関分析は非常に強力な手法ですが、これにはいくつか注意点があります。相関は 2 つの変数間に因果関係があれば強く出ます。ここに注目すべき点があり、相関はお互いの影響度合いを見ている点には注意が必要です。</div>
<div class="line">つまり上図のように、A ⇔ B の関係性を基本的に見ているので、A ⇒ B、B ⇒ A の様な関係性（因果関係）が必ず読み取れる訳ではありません。</div>
</div>
<p>例えば、先程例に挙げた「アイスの販売数と気温」であれば、アイスの販売数 ⇒ 気温の関係でなく、気温 ⇒ アイスの販売数の関係であることが分かります。ですが、「満足度と食事の満足度」ではどうでしょうか。食事の満足度 ⇒ 満足度の関係も、満足度 ⇒ 食事の満足度の関係もどちらも成立しそうです。</p>
<p>「宿泊したホテルの対応や内装の綺麗さなど、全体的な満足度が高かったため、食事も普段より美味しく感じた」というのも往々にして発生しそうだと想像できます。</p>
<p>また、上記のような例を「逆の相関関係」と呼んだりします。</p>
</section>
</section>
<section id="重回帰分析">
<h2>重回帰分析<a class="headerlink" href="#重回帰分析" title="Link to this heading"></a></h2>
<p>重回帰分析は複数の変数に対して分析を行うことが可能です。 扱う変数が複数であるため重回帰分析は多変量解析の手法です。</p>
<p>多変量解析で行えることは大きく分けて以下の 2 つです。</p>
<ul class="simple">
<li><p>要因分析</p></li>
<li><p>予測分析</p></li>
</ul>
<p>単回帰分析では、2 つの変数の関係性をモデルで表現するにとどまりますが、重回帰分析では複数の変数を扱えるようになるため、できることの幅が広がります。</p>
<p>重回帰分析のモデル式は以下のようになります。</p>
<p><img alt="demo" src="../_images/juukaiki.png" /></p>
<ul class="simple">
<li><p>y: 目的変数（結果）</p></li>
<li><p>x: 説明変数（原因）</p></li>
<li><p>a: 偏回帰係数</p></li>
<li><p>b: 切片</p></li>
</ul>
<p>上式からも重回帰分析は単回帰分析の拡張版であり、 と の数が変数分だけ増えていることが分かります。また、単回帰分析の場合は、 を回帰分析とよんでいましたが、重回帰分析では、偏回帰係数と呼びます。</p>
</section>
<section id="要因分析と予測分析">
<h2>要因分析と予測分析<a class="headerlink" href="#要因分析と予測分析" title="Link to this heading"></a></h2>
<p>先程もお伝えしましたが、重回帰分析の使用用途は要因分析と予測分析に分かれます。</p>
<ul class="simple">
<li><p>要因分析：複数ある要因（説明変数）のうち、目的変数に関連している度合いの大きいものを調べること</p></li>
<li><p>予測分析：要因分析を元に重回帰式を求めて未来の値を予測すること</p></li>
</ul>
<p>単回帰分析では 1 対 1 の変数の関係を見ていたのに対し、重回帰分析では、1 対複数の変数の関係をみることになります。単回帰分析の回帰係数との違いとして、もともとのデータを上手く表現できている重回帰分析の偏回帰係数は、用いている複数の説明変数を考慮した上での目的変数に対するそれぞれの影響度合いが算出されています。</p>
<section id="重回帰分析の実装">
<h3>重回帰分析の実装<a class="headerlink" href="#重回帰分析の実装" title="Link to this heading"></a></h3>
<p>重回帰分析は変わる変数が複数になるため、単回帰分析のときのように簡単に可視化することができません。 よってこちらの実装は分析ツールを使用して行いましょう。</p>
<p>【分析に期待すること】 - 売上の高い→優良顧客の発見 - 成約はするが売上の低い顧客属性の発見</p>
<p>売上予測の重回帰モデルを作成して、売上の要因→成約の要因を探す 成約している人のみに注目し、売上に影響（成約）与える要因を探索する。</p>
<p>データ分析 → 「回帰分析」を選択します。</p>
<p><img alt="06" src="../_images/06.png" /> 　 「入力 Y の範囲」に売上 「入力 X の範囲」にその他の項目（変数）を選択します。</p>
<p><img alt="07" src="../_images/07.png" /></p>
<p>画像のように設定ができたら OK ボタンを選択して、重回帰分析を実行しましょう。 分析の実装が完了すると下記のように実行結果が表示されます。</p>
<p><img alt="08q" src="../_images/08-1.png" /></p>
</section>
</section>
<section id="重回帰分析の結果の解釈">
<h2>重回帰分析の結果の解釈<a class="headerlink" href="#重回帰分析の結果の解釈" title="Link to this heading"></a></h2>
<p>重回帰分析の結果の解釈を行います。</p>
<p>上図の注目すべき項目のみ着目して進めましょう。 回帰分析の結果の善し悪しを評価するものに、決定係数があります。決定係数は、モデルのデータに対する当てはまりの良さ（回帰式でデータをどの程度うまく表現できているか）を表す数値で、最大が　1 となります。 #### P 値 Excel での回帰分析では、係数や切片に対して p 値(両側検定の結果)という値が算出されます。先程確認したように、以下の組み合わせで仮説を立てて、検定という統計処理を行った結果算出される値です。p 値については、0
に近い値を取っていればよいというふうに取られておけば構いません。 ※ 検定については少し難解であるため、資料後半に入れています。</p>
<p>P 値が一定の値（一般に 5）を下回れば、説明変数は目的変数に対して影響を及ぼしていると主張できるようになります。</p>
<p>y =ax+b の場合、</p>
<p>帰無仮説：a = 0</p>
<p>対立仮説：a ≠ 0 #### T 値 先程の P 値は、説明変数が目的変数に影響しているか否かの判定には使用できますが、どの程度しているのかは判断できません。</p>
<p>重回帰分析の場合には t 値を使用することで、複数の変数の影響度合いを考慮し、どの説明変数が結果に最も影響しているのかなどを見ることが可能です。 t 値は偏回帰係数毎に算出されており、絶対値的に大きいほど目的変数に対する影響が大きいと判断します。また、t 値も目安の大きさがあり、t の絶対値が 2 より小さい場合は統計的にはその変数は目的変数に寄与しないと判断できます。」<strong>t値は個々の説明変数の有意性を判定するt検定で用いられる数値です</strong></p>
<p>※ 別の方法として偏回帰係数をみて判断するという方法もあります。 #### 係数 係数は回帰式「Y = aX + b」のaやbの定数部分を表しています。 今回のケースでは、導き出された係数から以下の回帰式が算出されています。 この数値を見ることで、どの要素が目的変数に強い影響を与えているかがわかります。</p>
<p>※ いくつかの変数の後ろの「E-○」は、Eの前の数字×0.1 の○乗を指します。今のデータにおいては、とてつもなく小さな数字になることを押さえていれば問題ありません。</p>
<p>今回のデータはもともとの数値データが少なかったため、重回帰分析からではあまり大きな発見がありませんでした。とはいえ、売上の予測をしたり、需要予測・分析を行う際などに使用することが可能です。一つのテクニックとして抑えましょう。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>重相関R</p></td>
<td><p>相関係数のこと。</p></td>
</tr>
<tr class="row-odd"><td><p>標準誤差</p></td>
<td><p>得られた推定量そのもののばらつきのこと。</p></td>
</tr>
<tr class="row-even"><td><p>観測数</p></td>
<td><p>分析に使ったデータ数のこと。</p></td>
</tr>
<tr class="row-odd"><td><p>回帰</p></td>
<td><p>回帰直線（式）のこと。</p></td>
</tr>
<tr class="row-even"><td><p>残差</p></td>
<td><p>推定された回帰式が求めた値と、実際のデータの値の差のこと。</p></td>
</tr>
<tr class="row-odd"><td><p>自由度</p></td>
<td><p>自由に決めることができる値の数のこと。現時点では、有意Fを求めるために必要な値。回帰の場合は、変数の個数を指すことが多い。</p></td>
</tr>
<tr class="row-even"><td><p>変動</p></td>
<td><p>偏差の平方和のこと。偏差とは、データの個別の値から平均値を引いたもの。</p></td>
</tr>
<tr class="row-odd"><td><p>観測された分散比</p></td>
<td><p>F値のこと。有意F に使用する値。F検定に用いる。</p></td>
</tr>
<tr class="row-even"><td><p>有意F</p></td>
<td><p>すべての係数が 0 である確率のこと。0に近ければ近いほどよく、0.05未満なら統計的に「全ての係数が 0 ではない」言える。</p></td>
</tr>
<tr class="row-odd"><td><p>下限95%</p></td>
<td><p>95%の確率で係数が取りうる値の下限のこと。</p></td>
</tr>
<tr class="row-even"><td><p>上限95%</p></td>
<td><p>95%の確率で係数が取りうる値の上限</p></td>
</tr>
</tbody>
</table>
</section>
<section id="Excel-での機械学習分析の注意">
<h2>Excel での機械学習分析の注意<a class="headerlink" href="#Excel-での機械学習分析の注意" title="Link to this heading"></a></h2>
<p>Excel での分析には制限があります。下記に注意してください。 - 主な実装は重回帰分析のみ 成約の分析などを行う際には回帰ではなく分類の手法が好ましいです。ロジスティクス回帰や決定木はExcelではサポートされておりません。 - 変数の制限 Excelでの重回帰分析では入力変数は 16 変数までときまりがあります。 - データの数値化 数式にかけるため、データはすべて数値化を行う必要があります。本データは講師側ですでに数値化を行いましたが実務では数値がをする必要が発生します。</p>
<section id="分析結果からの考察">
<h3>分析結果からの考察<a class="headerlink" href="#分析結果からの考察" title="Link to this heading"></a></h3>
<p>まず、銀行残高・結婚状況が独身が絶対値 2 を越えているため、影響があることはあると言えそうです。 また、P 値は銀行残高とローンの有無が 0 に近い値を取っているため、関連性があると判断できます。</p>
<p>今回の分析はすべてのデータを使用できたわけではないため、下記を参考に再度、分析結果を考えて見ましょう。画像は、コードベースで分析を行った際の影響度を可視化したものです。</p>
<p><img alt="09" src="../_images/09.png" /></p>
</section>
</section>
<section id="まとめ">
<h2>まとめ<a class="headerlink" href="#まとめ" title="Link to this heading"></a></h2>
<p>重回帰分析の結果によって、売上に影響を与える要因として下記のようなことがわかります。</p>
<ul class="simple">
<li><p>銀行残高・ローンの有無が売上の値と何かしらの関連がある</p></li>
<li><p>銀行残高と結婚状況が独身の方は売上に大きな影響がある</p></li>
</ul>
<section id="コードでの影響度を考慮した考察を食わける">
<h3>コードでの影響度を考慮した考察を食わける<a class="headerlink" href="#コードでの影響度を考慮した考察を食わける" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>すでにローンを持っていたり、起業家,自営業などの職業の人が成約後、預金金額（売上の）多い傾向にあることがわかった。</p></li>
<li><p>家政婦や無職の人は成約を行っても預金が少ない（売上が低い）ことがわかった。</p></li>
</ul>
</section>
</section>
</section>
<section id="補足">
<h1>補足<a class="headerlink" href="#補足" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#銀行残高と成約の統計情報を確認する</span>

<span class="n">b_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">b_df</span><span class="p">[</span><span class="s1">&#39;銀行残高_yes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]</span>
<span class="n">b_df</span><span class="p">[</span><span class="s1">&#39;銀行残高_no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;銀行残高&#39;</span><span class="p">]</span>

<span class="n">b_df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-2bfc16e0-c778-436e-805e-76755940573d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>銀行残高_yes</th>
      <th>銀行残高_no</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>5289.000000</td>
      <td>5873.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1804.267915</td>
      <td>1280.227141</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3501.104777</td>
      <td>2933.411934</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-3058.000000</td>
      <td>-6847.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>210.000000</td>
      <td>64.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>733.000000</td>
      <td>414.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2159.000000</td>
      <td>1324.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>81204.000000</td>
      <td>66653.000000</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-2bfc16e0-c778-436e-805e-76755940573d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-2bfc16e0-c778-436e-805e-76755940573d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-2bfc16e0-c778-436e-805e-76755940573d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-cedfaf69-cfc3-461f-a920-9c1250779f7f">
  <button class="colab-df-quickchart" onclick="quickchart('df-cedfaf69-cfc3-461f-a920-9c1250779f7f')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-cedfaf69-cfc3-461f-a920-9c1250779f7f button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_249e3b86-82e8-4f89-9f10-d19869e2ccc7">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('b_df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_249e3b86-82e8-4f89-9f10-d19869e2ccc7 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('b_df');
      }
      })();
    </script>
  </div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;25%&#39;</span><span class="p">,</span> <span class="s1">&#39;50%&#39;</span><span class="p">,</span> <span class="s1">&#39;75%&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Balance and deposit statistics&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: title={&#39;center&#39;: &#39;Balance and deposit statistics&#39;}&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_04_10_1.png" src="../_images/src_04_10_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 年齢と成約の関係</span>
<span class="n">a_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">a_df</span><span class="p">[</span><span class="s1">&#39;年齢_yes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;yes&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;年齢&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;年齢&#39;</span><span class="p">]</span>
<span class="n">a_df</span><span class="p">[</span><span class="s1">&#39;年齢_no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">][[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;年齢&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">())[</span><span class="s1">&#39;年齢&#39;</span><span class="p">]</span>

<span class="n">a_df</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-590d0f99-865c-41c9-a281-a998b4c43254" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢_yes</th>
      <th>年齢_no</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>5289.000000</td>
      <td>5873.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>41.670070</td>
      <td>40.837391</td>
    </tr>
    <tr>
      <th>std</th>
      <td>13.497781</td>
      <td>10.264815</td>
    </tr>
    <tr>
      <th>min</th>
      <td>18.000000</td>
      <td>18.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>31.000000</td>
      <td>33.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>38.000000</td>
      <td>39.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>50.000000</td>
      <td>48.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>95.000000</td>
      <td>89.000000</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-590d0f99-865c-41c9-a281-a998b4c43254')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-590d0f99-865c-41c9-a281-a998b4c43254 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-590d0f99-865c-41c9-a281-a998b4c43254');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-398f2b98-95ba-4f26-a34d-6eb35103d24c">
  <button class="colab-df-quickchart" onclick="quickchart('df-398f2b98-95ba-4f26-a34d-6eb35103d24c')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-398f2b98-95ba-4f26-a34d-6eb35103d24c button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_b53b3563-8a51-4b74-80de-ab0ff8f08392">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('a_df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_b53b3563-8a51-4b74-80de-ab0ff8f08392 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('a_df');
      }
      })();
    </script>
  </div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;25%&#39;</span><span class="p">,</span> <span class="s1">&#39;50%&#39;</span><span class="p">,</span> <span class="s1">&#39;75%&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Age and deposit statistics&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: title={&#39;center&#39;: &#39;Age and deposit statistics&#39;}&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_04_12_1.png" src="../_images/src_04_12_1.png" />
</div>
</div>
<ul class="simple">
<li><p>定期預金を契約している人は、残高や年齢の値が大きい傾向があります</p></li>
</ul>
<section id="一次分析のまとめ">
<h2>一次分析のまとめ<a class="headerlink" href="#一次分析のまとめ" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>「ブルーカラー」や「サービス業」の仕事に就いている顧客は、定期預金を申し込む可能性が低いです。</p></li>
<li><p>既婚の顧客は定期預金を契約する可能性が低くなります。</p></li>
<li><p>定期預金している人は残高や年齢の値が大きい傾向がある。</p></li>
</ul>
<section id="仮説をたてて分析を行い統計的に証明する">
<h3>仮説をたてて分析を行い統計的に証明する<a class="headerlink" href="#仮説をたてて分析を行い統計的に証明する" title="Link to this heading"></a></h3>
<p>以下の仮説を調べる - 結婚状況と成約の有無は関連性があるのではないか - 最も売上の良い営業と売上の最も引くい営業では営業力に差があるのではないか</p>
</section>
<section id="カイ二乗検定を使用して関連性を証明する">
<h3>カイ二乗検定を使用して関連性を証明する<a class="headerlink" href="#カイ二乗検定を使用して関連性を証明する" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># カイ二乗検定を実装し、成約率と最終学歴の関連性があるかどうか調べる</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;結婚状況&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contingency_table</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">chi2</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>

<span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;結婚状況と定期預金加入の有無との間には、統計的に有意な関係がある。&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;結婚状況と定期預金加入の有無との間には、統計的に有意な関連は見られない。&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
成約の有無       no   yes
結婚状況
divorced   671   622
married   3596  2755
single    1606  1912
結婚状況と定期預金加入の有無との間には、統計的に有意な関係がある。
</pre></div></div>
</div>
</section>
<section id="営業マンの力量をT検定する。">
<h3>営業マンの力量をT検定する。<a class="headerlink" href="#営業マンの力量をT検定する。" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">)[</span><span class="s1">&#39;売上&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">salse</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
担当営業マン
A    8.358587
B    8.838254
C    8.455569
D    8.409461
E    9.043657
Name: 売上, dtype: float64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 営業マンごとの成約数の値をみる</span>

<span class="n">salse2</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">)[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">salse2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
担当営業マン  成約の有無
A       no       1199
        yes      1073
B       no       1140
        yes      1037
C       no       1133
        yes      1045
D       no       1161
        yes      1067
E       no       1240
        yes      1067
Name: count, dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># テーブル化</span>

<span class="n">salse2</span> <span class="o">=</span> <span class="n">salse2</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">salse2</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">]</span>
<span class="n">salse2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-23b6e20f-878f-43ee-812f-ed5dff5bd87b" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>no</th>
      <th>yes</th>
    </tr>
    <tr>
      <th>担当営業マン</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A</th>
      <td>1199</td>
      <td>1073</td>
    </tr>
    <tr>
      <th>B</th>
      <td>1140</td>
      <td>1037</td>
    </tr>
    <tr>
      <th>C</th>
      <td>1133</td>
      <td>1045</td>
    </tr>
    <tr>
      <th>D</th>
      <td>1161</td>
      <td>1067</td>
    </tr>
    <tr>
      <th>E</th>
      <td>1240</td>
      <td>1067</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-23b6e20f-878f-43ee-812f-ed5dff5bd87b')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-23b6e20f-878f-43ee-812f-ed5dff5bd87b button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-23b6e20f-878f-43ee-812f-ed5dff5bd87b');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-9596aa45-a119-438c-a100-03954d5e2da0">
  <button class="colab-df-quickchart" onclick="quickchart('df-9596aa45-a119-438c-a100-03954d5e2da0')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-9596aa45-a119-438c-a100-03954d5e2da0 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: salse2 とsalse テーブルを結合する</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">salse_merge</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">salse</span><span class="p">,</span> <span class="n">salse2</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">)</span>
<span class="n">salse_merge</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>売上</th>
      <th>no</th>
      <th>yes</th>
    </tr>
    <tr>
      <th>担当営業マン</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A</th>
      <td>8.358587</td>
      <td>1199</td>
      <td>1073</td>
    </tr>
    <tr>
      <th>B</th>
      <td>8.838254</td>
      <td>1140</td>
      <td>1037</td>
    </tr>
    <tr>
      <th>C</th>
      <td>8.455569</td>
      <td>1133</td>
      <td>1045</td>
    </tr>
    <tr>
      <th>D</th>
      <td>8.409461</td>
      <td>1161</td>
      <td>1067</td>
    </tr>
    <tr>
      <th>E</th>
      <td>9.043657</td>
      <td>1240</td>
      <td>1067</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-4a7c3095-d44c-4414-98f0-ec5ecd4bec8a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-d15d15b3-738b-41d2-b887-471529d2789d">
  <button class="colab-df-quickchart" onclick="quickchart('df-d15d15b3-738b-41d2-b887-471529d2789d')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-d15d15b3-738b-41d2-b887-471529d2789d button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;売上&#39;, &#39;no&#39;, &#39;yes&#39;], dtype=&#39;object&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-1b3e3737-2778-4988-acb8-a2cb21f075fb" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>担当営業マン</th>
      <th>売上</th>
      <th>no</th>
      <th>yes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>8.358587</td>
      <td>1199</td>
      <td>1073</td>
    </tr>
    <tr>
      <th>1</th>
      <td>B</td>
      <td>8.838254</td>
      <td>1140</td>
      <td>1037</td>
    </tr>
    <tr>
      <th>2</th>
      <td>C</td>
      <td>8.455569</td>
      <td>1133</td>
      <td>1045</td>
    </tr>
    <tr>
      <th>3</th>
      <td>D</td>
      <td>8.409461</td>
      <td>1161</td>
      <td>1067</td>
    </tr>
    <tr>
      <th>4</th>
      <td>E</td>
      <td>9.043657</td>
      <td>1240</td>
      <td>1067</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-1b3e3737-2778-4988-acb8-a2cb21f075fb')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-1b3e3737-2778-4988-acb8-a2cb21f075fb button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-1b3e3737-2778-4988-acb8-a2cb21f075fb');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-62b4a5e3-74c9-44af-abea-5f58798c1eff">
  <button class="colab-df-quickchart" onclick="quickchart('df-62b4a5e3-74c9-44af-abea-5f58798c1eff')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-62b4a5e3-74c9-44af-abea-5f58798c1eff button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">salse_merge</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;担当営業マン&#39;, &#39;売上&#39;, &#39;no&#39;, &#39;yes&#39;], dtype=&#39;object&#39;)
</pre></div></div>
</div>
<p>キャンペーンを売っていないときと今回のデータを使用してT検定を行います。 今回のキャンペーンが効果があったと言えるかどうかを検定を行い検証しましょうｌ．</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># 乱数のシードを設定して再現性を保つ</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># サンプルサイズ</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># 年齢データを作成（18歳から95歳までの乱数）</span>
<span class="n">age</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 職業データを作成（&#39;admin.&#39;, &#39;blue-collar&#39;, &#39;technician&#39;, &#39;services&#39;, &#39;management&#39;, &#39;retired&#39;, &#39;entrepreneur&#39;, &#39;self-employed&#39;, &#39;housemaid&#39;, &#39;unemployed&#39;, &#39;student&#39;, &#39;unknown&#39;）</span>
<span class="n">occupations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;admin.&#39;</span><span class="p">,</span> <span class="s1">&#39;blue-collar&#39;</span><span class="p">,</span> <span class="s1">&#39;technician&#39;</span><span class="p">,</span> <span class="s1">&#39;services&#39;</span><span class="p">,</span> <span class="s1">&#39;management&#39;</span><span class="p">,</span> <span class="s1">&#39;retired&#39;</span><span class="p">,</span> <span class="s1">&#39;entrepreneur&#39;</span><span class="p">,</span> <span class="s1">&#39;self-employed&#39;</span><span class="p">,</span> <span class="s1">&#39;housemaid&#39;</span><span class="p">,</span> <span class="s1">&#39;unemployed&#39;</span><span class="p">,</span> <span class="s1">&#39;student&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">occupation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">occupations</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 婚姻状態データを作成（&#39;married&#39;, &#39;single&#39;, &#39;divorced&#39;, &#39;unknown&#39;）</span>
<span class="n">marital_statuses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;married&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;divorced&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">marital_status</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">marital_statuses</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 学歴データを作成（&#39;basic.4y&#39;, &#39;basic.6y&#39;, &#39;basic.9y&#39;, &#39;high.school&#39;, &#39;professional.course&#39;, &#39;university.degree&#39;, &#39;unknown&#39;）</span>
<span class="n">educations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;basic.4y&#39;</span><span class="p">,</span> <span class="s1">&#39;basic.6y&#39;</span><span class="p">,</span> <span class="s1">&#39;basic.9y&#39;</span><span class="p">,</span> <span class="s1">&#39;high.school&#39;</span><span class="p">,</span> <span class="s1">&#39;professional.course&#39;</span><span class="p">,</span> <span class="s1">&#39;university.degree&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">education</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">educations</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># デフォルト情報データを作成（&#39;yes&#39;, &#39;no&#39;, &#39;unknown&#39;）</span>
<span class="n">defaults</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">default</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">defaults</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 住宅ローンデータを作成（&#39;yes&#39;, &#39;no&#39;, &#39;unknown&#39;）</span>
<span class="n">housings</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">housing</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">housings</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 個人ローンデータを作成（&#39;yes&#39;, &#39;no&#39;, &#39;unknown&#39;）</span>
<span class="n">loans</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">]</span>
<span class="n">loan</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">loans</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 連絡方法データを作成（&#39;telephone&#39;, &#39;cellular&#39;）</span>
<span class="n">contacts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;telephone&#39;</span><span class="p">,</span> <span class="s1">&#39;cellular&#39;</span><span class="p">]</span>
<span class="n">contact</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">contacts</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 連絡時間データを作成（&#39;jan&#39;, &#39;feb&#39;, &#39;mar&#39;, &#39;apr&#39;, &#39;may&#39;, &#39;jun&#39;, &#39;jul&#39;, &#39;aug&#39;, &#39;sep&#39;, &#39;oct&#39;, &#39;nov&#39;, &#39;dec&#39;）</span>
<span class="n">months</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;jan&#39;</span><span class="p">,</span> <span class="s1">&#39;feb&#39;</span><span class="p">,</span> <span class="s1">&#39;mar&#39;</span><span class="p">,</span> <span class="s1">&#39;apr&#39;</span><span class="p">,</span> <span class="s1">&#39;may&#39;</span><span class="p">,</span> <span class="s1">&#39;jun&#39;</span><span class="p">,</span> <span class="s1">&#39;jul&#39;</span><span class="p">,</span> <span class="s1">&#39;aug&#39;</span><span class="p">,</span> <span class="s1">&#39;sep&#39;</span><span class="p">,</span> <span class="s1">&#39;oct&#39;</span><span class="p">,</span> <span class="s1">&#39;nov&#39;</span><span class="p">,</span> <span class="s1">&#39;dec&#39;</span><span class="p">]</span>
<span class="n">month</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">months</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 連絡曜日データを作成（&#39;mon&#39;, &#39;tue&#39;, &#39;wed&#39;, &#39;thu&#39;, &#39;fri&#39;）</span>
<span class="n">days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mon&#39;</span><span class="p">,</span> <span class="s1">&#39;tue&#39;</span><span class="p">,</span> <span class="s1">&#39;wed&#39;</span><span class="p">,</span> <span class="s1">&#39;thu&#39;</span><span class="p">,</span> <span class="s1">&#39;fri&#39;</span><span class="p">]</span>
<span class="n">day_of_week</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 最後の接触からの日数データを作成（0から365までの乱数）</span>
<span class="n">campaign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">366</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 最後の接触回数データを作成（0から10までの乱数）</span>
<span class="n">pdays</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 前回のキャンペーン後の結果データを作成（0から7までの乱数）</span>
<span class="n">previous</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 通知の結果データを作成（&#39;failure&#39;, &#39;nonexistent&#39;, &#39;success&#39;）</span>
<span class="n">poutcomes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;failure&#39;</span><span class="p">,</span> <span class="s1">&#39;nonexistent&#39;</span><span class="p">,</span> <span class="s1">&#39;success&#39;</span><span class="p">]</span>
<span class="n">poutcome</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">poutcomes</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 顧客の年間連絡回数データを作成（-3.4から1.4までの乱数）</span>
<span class="n">emp_var_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 消費者物価指数データを作成（92から95までの乱数）</span>
<span class="n">cons_price_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">92</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 消費者信頼感指数データを作成（-50から-25までの乱数）</span>
<span class="n">cons_conf_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 雇用者の雇用指数データを作成（0.6から5.0までの乱数）</span>
<span class="n">euribor3m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># サポートされている連絡データを作成（4900から5200までの乱数）</span>
<span class="n">nr_employed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">4900</span><span class="p">,</span> <span class="mi">5201</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># 最終的な購入の結果データを作成（&#39;yes&#39;, &#39;no&#39;）</span>
<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">y_values</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># データフレームを作成</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="n">age</span><span class="p">,</span>
    <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="n">occupation</span><span class="p">,</span>
    <span class="s1">&#39;marital&#39;</span><span class="p">:</span> <span class="n">marital_status</span><span class="p">,</span>
    <span class="s1">&#39;education&#39;</span><span class="p">:</span> <span class="n">education</span><span class="p">,</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="n">default</span><span class="p">,</span>
    <span class="s1">&#39;housing&#39;</span><span class="p">:</span> <span class="n">housing</span><span class="p">,</span>
    <span class="s1">&#39;loan&#39;</span><span class="p">:</span> <span class="n">loan</span><span class="p">,</span>
    <span class="s1">&#39;contact&#39;</span><span class="p">:</span> <span class="n">contact</span><span class="p">,</span>
    <span class="s1">&#39;month&#39;</span><span class="p">:</span> <span class="n">month</span><span class="p">,</span>
    <span class="s1">&#39;day_of_week&#39;</span><span class="p">:</span> <span class="n">day_of_week</span><span class="p">,</span>
    <span class="s1">&#39;campaign&#39;</span><span class="p">:</span> <span class="n">campaign</span><span class="p">,</span>
    <span class="s1">&#39;pdays&#39;</span><span class="p">:</span> <span class="n">pdays</span><span class="p">,</span>
    <span class="s1">&#39;previous&#39;</span><span class="p">:</span> <span class="n">previous</span><span class="p">,</span>
    <span class="s1">&#39;poutcome&#39;</span><span class="p">:</span> <span class="n">poutcome</span><span class="p">,</span>
    <span class="s1">&#39;emp.var.rate&#39;</span><span class="p">:</span> <span class="n">emp_var_rate</span><span class="p">,</span>
    <span class="s1">&#39;cons.price.idx&#39;</span><span class="p">:</span> <span class="n">cons_price_idx</span><span class="p">,</span>
    <span class="s1">&#39;cons.conf.idx&#39;</span><span class="p">:</span> <span class="n">cons_conf_idx</span><span class="p">,</span>
    <span class="s1">&#39;euribor3m&#39;</span><span class="p">:</span> <span class="n">euribor3m</span><span class="p">,</span>
    <span class="s1">&#39;nr.employed&#39;</span><span class="p">:</span> <span class="n">nr_employed</span><span class="p">,</span>
    <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">y</span>
<span class="p">})</span>

<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: data テーブルの営業マン列のAとEで売上に差があるかどうか検定</span>

<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="c1"># 帰無仮説：AとEの売上には差がない（差があるとはいえない）</span>
<span class="c1"># 対立仮説：AとEの売上には差がある</span>

<span class="c1"># AとEの売上を抽出</span>
<span class="n">a_sales</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">][</span><span class="s1">&#39;売上&#39;</span><span class="p">]</span>
<span class="n">e_sales</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;E&#39;</span><span class="p">][</span><span class="s1">&#39;売上&#39;</span><span class="p">]</span>

<span class="c1"># 二標本t検定の実行</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">a_sales</span><span class="p">,</span> <span class="n">e_sales</span><span class="p">)</span>


<span class="c1"># 有意水準α=0.05で検定</span>
<span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AとEの売上には差がある&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AとEの売上には差がない&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">t_stat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p_value</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
AとEの売上には差がない
-0.8582443340668331
0.39080249077419926
</pre></div></div>
</div>
<p>売上の最も高たったEと低かったAさんでは差がないということが言えないということが検定結果からわかります。営業マンによる成約率の上下はあまりなさそうです。</p>
</section>
<section id="id17">
<h3>相関分析<a class="headerlink" href="#id17" title="Link to this heading"></a></h3>
<p>年齢が上がるほど、銀行残高が上がるのかどうか相関関係を分析する</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># 数値データのみを抽出</span>
<span class="n">numerical_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;int64&#39;</span><span class="p">,</span> <span class="s1">&#39;float64&#39;</span><span class="p">])</span>
<span class="n">numerical_data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;列1&#39;</span><span class="p">,</span><span class="s1">&#39;連絡で接触した時間（秒数&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># 相関分析の実行</span>
<span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">numerical_data</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="c1"># ,&#39;Unnamed: 18&#39;,&#39;Unnamed: 19&#39;</span>
<span class="c1"># データフレームに変換</span>
<span class="n">correlation_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">)</span>

<span class="c1"># 相関分析の結果を表示</span>
<span class="nb">print</span><span class="p">(</span><span class="n">correlation_df</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                年齢      銀行残高       day     pdays  previous        売上
年齢        1.000000  0.112300 -0.000762  0.002774  0.020169  0.101262
銀行残高      0.112300  1.000000  0.010467  0.017411  0.030805  0.727254
day      -0.000762  0.010467  1.000000 -0.077232 -0.058981 -0.011110
pdays     0.002774  0.017411 -0.077232  1.000000  0.507272  0.060419
previous  0.020169  0.030805 -0.058981  0.507272  1.000000  0.063562
売上        0.101262  0.727254 -0.011110  0.060419  0.063562  1.000000
</pre></div></div>
</div>
<ul class="simple">
<li><p>年齢と銀行残高に相関関係はなさそう。</p></li>
<li><p>売上と銀行残高には相関関係がある</p></li>
</ul>
<p>因果関係について 因果関係とは、相関分析は非常に強力な手法ですが、これにはいくつか注意点があります。相関は 2 つの変数間に因果関係があれば強く出ます。ここに注目すべき点があり、相関はお互いの影響度合いを見ている点には注意が必要です。</p>
<p>たまたま相関がある場合に注意しましょう。このような本当は関係はないが、相関があるように結果が出てしまうことを擬似相関（見せかけの相関）と言います。</p>
<p>この疑似相関は様々な要因で発生する可能性があります。</p>
<p>関係は全く無いが相関が発生する場合 第 3 の要因が 2 変数それぞれに影響している場合 第 3 の要因が 2 変数の間に介在している場合 関係は全く無いが相関が発生する場合</p>
<p>具体例を用いて考えてみましょう。</p>
<p>じゃがいもの生産量と自民党の支持率には正の相関があると言われています。この、じゃがいもの生産量と自民党の支持率には何かの因果関係が存在するのでしょうか。</p>
<p>回答としては No です。ここにはたまたま相関が見つかっていますが、何かの理由（因果関係）があるわけではありません。</p>
<p>第 3 の要因が 2 変数それぞれに影響している場合</p>
<p>学力テストの結果と身長には正の相関があると言われています。このとき、この 2 つには因果関係が存在するのでしょうか。</p>
<p>回答としては No だと分かります。実は、身長・テストの点数には、第 3 の要因となる「年齢」が紐付いています。つまり、年齢（C） ⇒ 身長（A）、年齢（C） ⇒ テストの点数（B）の様な関係性になっているのです。</p>
<p>また、今回の年齢（C）の様な要因を交絡因子と呼びます。</p>
<p>第 3 の要因が 2 変数の間に介在している場合</p>
<p>実は、「ウォーキングをすると体重が増える」には相関があるのですが、これも相関を使用して説明ができます。もちろんこれには直接的な因果関係はなく、ウォーキングをする（A） ⇒ 空腹から過剰に食べる（C） ⇒ 体重が増える（B）という関係になっています。</p>
<p>実際には因果関係がないものでも相関が出てしまい、因果関係があるように見えてしまうことが多々あります。これを解決する方法は様々あるのですが、第一に疑う姿勢を持つことを大切にしましょう。</p>
<p>メモ：受講者にも演習として検定を行っていただく。</p>
</section>
</section>
<section id="機械学習を行い分析を行う">
<h2>機械学習を行い分析を行う<a class="headerlink" href="#機械学習を行い分析を行う" title="Link to this heading"></a></h2>
<p>重回帰分析は複数の変数に対して分析を行うことが可能です。 扱う変数が複数であるため重回帰分析は多変量解析の手法です。</p>
<p>多変量解析で行えることは大きく分けて以下の 2 つです。</p>
<p>要因分析</p>
<p>予測分析</p>
<p>単回帰分析では、2 つの変数の関係性をモデルで表現するにとどまっていましたが、重回帰分析では複数の変数を扱えるようになるため、できることの幅が広がります。</p>
<dl>
<dt>重回帰分析のモデル式は以下のようになります。</dt><dd><p>目的変数（結果）</p>
<p>説明変数（原因）</p>
<p>偏回帰係数</p>
<p>切片</p>
</dd>
</dl>
<p>上式からも重回帰分析は単回帰分析の拡張版であり、 と の数が変数分だけ増えていることが分かります。また、単回帰分析の場合は、 を回帰分析とよんでいましたが、重回帰分析では、偏回帰係数と呼びます。</p>
<p>要因分析と予測分析 先程もお伝えしましたが、重回帰分析の使用用途は要因分析と予測分析に分かれます。</p>
<p>要因分析：複数ある要因（説明変数）のうち、目的変数に関連している度合いの大きいものを調べること</p>
<p>予測分析：要因分析を元に重回帰式を求めて未来の値を予測すること</p>
<p>単回帰分析では 1 対 1 の変数の関係を見ていたのに対し、重回帰分析では、1 対複数の変数の関係をみることになります。単回帰分析の回帰係数との違いとして、もともとのデータを上手く表現できている重回帰分析の偏回帰係数は、用いている複数の説明変数を考慮した上での目的変数に対するそれぞれの影響度合いが算出されています。</p>
<p>重回帰分析の実装 重回帰分析は変わる変数が複数になるため、単回帰分析のときのように簡単に可視化することができません。 よってこちらの実装は分析ツールを使用して行いましょう。 データ分析 → 「回帰分析」を選択します。</p>
<p><img alt="data" src="../_images/06.png" /> 　 「入力 Y の範囲」に満足度 「入力 X の範囲」にその他の項目（変数）を選択します。 17 すると以下のように算出されているはずです。</p>
<p>期待すること - 売上の高い→優良顧客の発見 - 成約はするが売上の低い顧客属性の発見</p>
<p>売上予測の重回帰モデルを作成して、売上の要因→成約の要因を探す 成約している人のみに注目し、売上に影響（成約）与える要因を探索する。</p>
</section>
<section id="id19">
<h2>重回帰分析の結果の解釈<a class="headerlink" href="#id19" title="Link to this heading"></a></h2>
<p>重回帰分析の結果の解釈を行います。 上図の注目すべき項目のみ着目して進めましょう。 回帰分析の結果の善し悪しを評価するものに、決定係数があります。決定係数は、モデルのデータに対する当てはまりの良さ（回帰式でデータをどの程度うまく表現できているか）を表す数値で、最大が　1 となります。</p>
<p>Excel での回帰分析では、係数や切片に対して p 値(両側検定の結果)という値が算出されます。先程確認したように、以下の組み合わせで仮説を立てて、検定という統計処理を行った結果算出される値です。p 値については、0 に近い値を取っていればよいというふうに取られておけば構いません。 ※ 検定については少し難解であるため、資料後半に入れています。</p>
<p>P 値が一定の値（一般に 5）を下回れば、説明変数は目的変数に対して影響を及ぼしていると主張できるようになります。</p>
<p>の場合、</p>
<p>帰無仮説：a = 0</p>
<p>対立仮説：a ≠ 0</p>
<p>先程の P 値は、説明変数が目的変数に影響しているか否かの判定には使用できますが、どの程度しているのかは判断できません。 重回帰分析の場合には t 値を使用することで、複数の変数の影響度合いを考慮し、どの説明変数が結果に最も影響しているのかなどを見ることが可能です。 t 値は偏回帰係数毎に算出されており、絶対値的に大きいほど目的変数に対する影響が大きいと判断します。 また、t 値も目安の大きさがあり、t の絶対値が 2 より小さい場合は統計的にはその変数は目的変数に寄与しないと判断できます。</p>
<p>※ 別の方法として偏回帰係数をみて判断するという方法もあります。</p>
<p>結果の解釈 - 要因分析 まず、すべての変数が絶対値 2 を越えているため、影響があることはあると言えそうです。 また、P 値も、すべて 5% を下回っているので、関連性があると判断できます。</p>
<p>※ いくつかの変数の後ろの「E-○」は、Eの前の数字×0.1 の○乗を指します。今のデータにおいては、とてつもなく小さな数字になることを押さえていれば問題ありません。</p>
<p>よって、ここから以下が考えられます。</p>
<p>年齢以外のすべての変数は満足度に影響を与えている。逆に、年齢との関係については別の観点から考えられそうだ。</p>
<p>特に、いままで見てきた 3つの変数が特に影響を与えている。</p>
<p>「その他のサービス」や「食事の満足度」に関しても考える必要があるかもしれない。</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: data から文字列の列を抽出してください</span>

<span class="n">string_cols</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">string_cols</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;仕事&#39;, &#39;結婚状況&#39;, &#39;最終学歴&#39;, &#39;債務不履行の有無&#39;, &#39;持ち家の有無&#39;, &#39;ローンの有無&#39;, &#39;客へ最後に連絡した際の連絡手段&#39;, &#39;month&#39;, &#39;成約の有無&#39;, &#39;担当営業マン&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>列1</th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2343.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>45.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>1270.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.0</td>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>2476.0</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.0</td>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>no</td>
      <td>184.0</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>yes</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c2bf0f42-60e8-4ff4-b6b3-d9d0eedad6e9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-90c39624-bb13-4314-86c3-06f64decea0b">
  <button class="colab-df-quickchart" onclick="quickchart('df-90c39624-bb13-4314-86c3-06f64decea0b')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-90c39624-bb13-4314-86c3-06f64decea0b button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<p>二値の値はラベルエンコーディング</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># カテゴリカル変数を含んだデータのみを抽出</span>
<span class="n">df_obj</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
<span class="n">df_obj</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-ab1eb3fd-f297-49a4-b032-768a9f4248d9" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>month</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>may</td>
      <td>yes</td>
      <td>B</td>
    </tr>
    <tr>
      <th>1</th>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>no</td>
      <td>no</td>
      <td>unknown</td>
      <td>may</td>
      <td>yes</td>
      <td>E</td>
    </tr>
    <tr>
      <th>2</th>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>no</td>
      <td>yes</td>
      <td>no</td>
      <td>unknown</td>
      <td>may</td>
      <td>yes</td>
      <td>A</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ab1eb3fd-f297-49a4-b032-768a9f4248d9')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ab1eb3fd-f297-49a4-b032-768a9f4248d9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ab1eb3fd-f297-49a4-b032-768a9f4248d9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-56d42f8f-8078-4376-b117-5d59a487c4a9">
  <button class="colab-df-quickchart" onclick="quickchart('df-56d42f8f-8078-4376-b117-5d59a487c4a9')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-56d42f8f-8078-4376-b117-5d59a487c4a9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_uni</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">df_uni</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
仕事                 12
結婚状況                3
最終学歴                4
債務不履行の有無            2
持ち家の有無              2
ローンの有無              2
客へ最後に連絡した際の連絡手段     3
month              12
成約の有無               2
担当営業マン              5
dtype: int64
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># モデルの宣言</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ユニークな値が 2 種類の列名のみ取得</span>
<span class="n">df_cols</span> <span class="o">=</span> <span class="n">df_uni</span><span class="p">[</span><span class="n">df_uni</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">df_cols</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;債務不履行の有無&#39;, &#39;持ち家の有無&#39;, &#39;ローンの有無&#39;, &#39;成約の有無&#39;], dtype=&#39;object&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_cols</span><span class="p">:</span>
  <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
  <span class="n">le</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
  <span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-9ee3a902-8fe1-42ed-93b3-c55693575693" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>列1</th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.0</td>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.0</td>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-9ee3a902-8fe1-42ed-93b3-c55693575693')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-9ee3a902-8fe1-42ed-93b3-c55693575693 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-9ee3a902-8fe1-42ed-93b3-c55693575693');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-1dfe8420-eca0-4f51-970d-95906d0772e5">
  <button class="colab-df-quickchart" onclick="quickchart('df-1dfe8420-eca0-4f51-970d-95906d0772e5')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-1dfe8420-eca0-4f51-970d-95906d0772e5 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;列1&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-0dcd9b81-0441-4c05-b2ed-45266862aecd" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>仕事</th>
      <th>結婚状況</th>
      <th>最終学歴</th>
      <th>債務不履行の有無</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>客へ最後に連絡した際の連絡手段</th>
      <th>day</th>
      <th>month</th>
      <th>連絡で接触した時間（秒数</th>
      <th>pdays</th>
      <th>previous</th>
      <th>成約の有無</th>
      <th>担当営業マン</th>
      <th>売上</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1042.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>B</td>
      <td>23.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1467.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>0.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>technician</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>1389.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>A</td>
      <td>12.70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>services</td>
      <td>married</td>
      <td>secondary</td>
      <td>0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>579.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>D</td>
      <td>24.76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>admin.</td>
      <td>married</td>
      <td>tertiary</td>
      <td>0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>unknown</td>
      <td>5.0</td>
      <td>may</td>
      <td>673.0</td>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>E</td>
      <td>1.84</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-0dcd9b81-0441-4c05-b2ed-45266862aecd')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-0dcd9b81-0441-4c05-b2ed-45266862aecd button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-0dcd9b81-0441-4c05-b2ed-45266862aecd');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-a2391975-d10d-4c3d-bcdb-4cdeb5531aa0">
  <button class="colab-df-quickchart" onclick="quickchart('df-a2391975-d10d-4c3d-bcdb-4cdeb5531aa0')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-a2391975-d10d-4c3d-bcdb-4cdeb5531aa0 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;previous&#39;</span><span class="p">,</span><span class="s1">&#39;pdays&#39;</span><span class="p">,</span><span class="s1">&#39;債務不履行の有無&#39;</span><span class="p">,</span><span class="s1">&#39;連絡で接触した時間（秒数&#39;</span><span class="p">,</span><span class="s1">&#39;month&#39;</span><span class="p">,</span><span class="s1">&#39;担当営業マン&#39;</span><span class="p">,</span><span class="s1">&#39;客へ最後に連絡した際の連絡手段&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># &#39;Unnamed: 18&#39;,&#39;Unnamed: 19&#39;,&#39;Unnamed: 20&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(11165, 26)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-6331a0cc-555d-4195-8a84-a37708106971" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>23.43</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>0.45</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>12.70</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>24.76</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>1.84</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6331a0cc-555d-4195-8a84-a37708106971')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6331a0cc-555d-4195-8a84-a37708106971 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6331a0cc-555d-4195-8a84-a37708106971');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-ba710849-bb1e-4149-8c45-62a3e69d1bc6">
  <button class="colab-df-quickchart" onclick="quickchart('df-ba710849-bb1e-4149-8c45-62a3e69d1bc6')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-ba710849-bb1e-4149-8c45-62a3e69d1bc6 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 欠損値の数を確認</span>
<span class="n">mldata</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
年齢                  3
銀行残高                3
持ち家の有無              0
ローンの有無              0
day                 3
成約の有無               0
売上                  0
仕事_admin.           0
仕事_blue-collar      0
仕事_entrepreneur     0
仕事_housemaid        0
仕事_management       0
仕事_retired          0
仕事_self-employed    0
仕事_services         0
仕事_student          0
仕事_technician       0
仕事_unemployed       0
仕事_unknown          0
結婚状況_divorced       0
結婚状況_married        0
結婚状況_single         0
最終学歴_primary        0
最終学歴_secondary      0
最終学歴_tertiary       0
最終学歴_unknown        0
dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mldata</span><span class="o">=</span> <span class="n">mldata</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">mldata</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
年齢                  0
銀行残高                0
持ち家の有無              0
ローンの有無              0
day                 0
成約の有無               0
売上                  0
仕事_admin.           0
仕事_blue-collar      0
仕事_entrepreneur     0
仕事_housemaid        0
仕事_management       0
仕事_retired          0
仕事_self-employed    0
仕事_services         0
仕事_student          0
仕事_technician       0
仕事_unemployed       0
仕事_unknown          0
結婚状況_divorced       0
結婚状況_married        0
結婚状況_single         0
最終学歴_primary        0
最終学歴_secondary      0
最終学歴_tertiary       0
最終学歴_unknown        0
dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: mldata からNaN</span>

<span class="n">mldata</span><span class="p">[</span><span class="n">mldata</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-01e21a67-69e4-4b83-bc37-0bcf92757903" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<p>0 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-01e21a67-69e4-4b83-bc37-0bcf92757903')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-01e21a67-69e4-4b83-bc37-0bcf92757903 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-01e21a67-69e4-4b83-bc37-0bcf92757903');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: 成約の有無列がyesだけのデータを取得</span>
<span class="n">mldata</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-08a77d1c-2360-4931-bf93-ef3721b46434" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>23.43</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>0.45</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>12.70</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>24.76</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>1.84</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-08a77d1c-2360-4931-bf93-ef3721b46434')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-08a77d1c-2360-4931-bf93-ef3721b46434 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-08a77d1c-2360-4931-bf93-ef3721b46434');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-88684878-4a84-4066-b0da-f44ca7b961d9">
  <button class="colab-df-quickchart" onclick="quickchart('df-88684878-4a84-4066-b0da-f44ca7b961d9')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-88684878-4a84-4066-b0da-f44ca7b961d9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: mldata の成約の有無が1のデータを取り出し</span>

<span class="n">mldata_yes</span> <span class="o">=</span> <span class="n">mldata</span><span class="p">[</span><span class="n">mldata</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">mldata_yes</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
  <div id="df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年齢</th>
      <th>銀行残高</th>
      <th>持ち家の有無</th>
      <th>ローンの有無</th>
      <th>day</th>
      <th>成約の有無</th>
      <th>売上</th>
      <th>仕事_admin.</th>
      <th>仕事_blue-collar</th>
      <th>仕事_entrepreneur</th>
      <th>...</th>
      <th>仕事_technician</th>
      <th>仕事_unemployed</th>
      <th>仕事_unknown</th>
      <th>結婚状況_divorced</th>
      <th>結婚状況_married</th>
      <th>結婚状況_single</th>
      <th>最終学歴_primary</th>
      <th>最終学歴_secondary</th>
      <th>最終学歴_tertiary</th>
      <th>最終学歴_unknown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.0</td>
      <td>2343.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>23.43</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>56.0</td>
      <td>45.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>0.45</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>41.0</td>
      <td>1270.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>12.70</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.0</td>
      <td>2476.0</td>
      <td>1</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>24.76</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>54.0</td>
      <td>184.0</td>
      <td>0</td>
      <td>0</td>
      <td>5.0</td>
      <td>1</td>
      <td>1.84</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-19e43678-eb8d-46ef-8ebb-bb2c7ac56adf');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c902c21c-a779-4da4-bb11-b3e30c6399a8">
  <button class="colab-df-quickchart" onclick="quickchart('df-c902c21c-a779-4da4-bb11-b3e30c6399a8')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c902c21c-a779-4da4-bb11-b3e30c6399a8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div></div>
</div>
<section id="id20">
<h3>重回帰分析<a class="headerlink" href="#id20" title="Link to this heading"></a></h3>
<p>重回帰分析を行い、売上に影響力のある特徴を算出する</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">re</span> <span class="kn">import</span> <span class="n">X</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mldata_yes</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;売上&#39;</span><span class="p">,</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">values</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">mldata_yes</span><span class="p">[[</span><span class="s1">&#39;売上&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><br/><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span><span class="p">,</span> <span class="n">mean_absolute_error</span><span class="p">,</span><span class="n">mean_squared_error</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="n">std_scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">std_scaler</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># 標準化</span>
<span class="n">x_train_std</span> <span class="o">=</span> <span class="n">std_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># x_test_std = std_scaler.transform(x_test)</span>

<span class="c1"># モデルの宣言</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span>  <span class="n">t</span><span class="p">,)</span>
<span class="n">pred_y</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># モデルの検証</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;決定係数（r2）:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">r2_score</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pred_y</span><span class="p">),</span><span class="mi">3</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;平均誤差（MAE）:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pred_y</span><span class="p">),</span><span class="mi">3</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;平均二乗偏差(RMSE):</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pred_y</span><span class="p">)),</span><span class="mi">3</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
決定係数（r2）:0.999
平均誤差（MAE）:0.322
平均二乗偏差(RMSE):0.999
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">coef_</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[ 0.00053038,  0.0099747 ,  0.23074688,  0.45746109, -0.00058006,
        -0.06684301, -0.0075477 ,  0.30136415, -0.1284604 , -0.0705586 ,
        -0.01391888,  0.15260955,  0.05611743, -0.0738067 ,  0.01946247,
        -0.1068266 , -0.06159173,  0.05494255, -0.04260205, -0.01234051,
         0.05797679,  0.00055555, -0.01971352, -0.03881882]])
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># prompt: model の重みを可視化してください。</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">coefs</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">coef_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Create a list of column names</span>
<span class="n">column_names</span> <span class="o">=</span> <span class="n">mldata_yes</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;売上&#39;</span><span class="p">,</span> <span class="s1">&#39;成約の有無&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># Create a DataFrame with the column names and coefficients</span>
<span class="n">coef_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Column Name&#39;</span><span class="p">:</span> <span class="n">column_names</span><span class="p">,</span> <span class="s1">&#39;Coefficient&#39;</span><span class="p">:</span> <span class="n">coefs</span><span class="p">})</span>

<span class="c1"># Sort the DataFrame by the coefficient values</span>
<span class="n">coef_df</span> <span class="o">=</span> <span class="n">coef_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Coefficient&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot the coefficients</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Coefficient&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Column Name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">coef_df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Model Coefficients&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Coefficient Value&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Column Name&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_04_62_0.png" src="../_images/src_04_62_0.png" />
</div>
</div>
<ul class="simple">
<li><p>すでにローンを持っていたり、起業家,自営業などの職業の人が成約後、預金金額（売上の）多い傾向にあることがわかった。</p></li>
<li><p>起業家、自営業の成約率は高くない</p></li>
<li><p>Retired は成約率は高いが売上はあまり上がらない（成約してもそこまで預金しない）ことがわかった。</p></li>
<li><p>家政婦や無職の人は成約を行っても預金が少ない（売上が低い）ことがわかった。</p></li>
</ul>
</section>
<section id="高度な分析の実装（決定木＆XG_Boost-を実装）→Excelで実装できないため講座の最後におみせする">
<h3>高度な分析の実装（決定木＆XG_Boost を実装）→Excelで実装できないため講座の最後におみせする<a class="headerlink" href="#高度な分析の実装（決定木＆XG_Boost-を実装）→Excelで実装できないため講座の最後におみせする" title="Link to this heading"></a></h3>
<p>高度な分析を行い、成約に影響力の高い特徴を調べる</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 決定木</span>

<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="c1"># データの用意</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">mldata</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;売上&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">mldata</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">]</span>

<span class="c1"># モデルの宣言</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">min_samples_split</span><span class="o">=</span><span class="mi">842</span><span class="p">)</span>

<span class="c1"># モデルの学習</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># モデルの予測</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># モデルの評価</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Accuracy:&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>

<span class="c1"># 決定木の可視化</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">plot_tree</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plot_tree</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">class_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Accuracy: 0.6516753270023293
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_04_65_1.png" src="../_images/src_04_65_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">optuna</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Collecting optuna
  Downloading optuna-3.6.1-py3-none-any.whl (380 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">380.1/380.1 kB</span> <span class="ansi-red-fg">4.9 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting alembic&gt;=1.5.0 (from optuna)
  Downloading alembic-1.13.1-py3-none-any.whl (233 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">233.4/233.4 kB</span> <span class="ansi-red-fg">10.9 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Collecting colorlog (from optuna)
  Downloading colorlog-6.8.2-py3-none-any.whl (11 kB)
Requirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from optuna) (1.25.2)
Requirement already satisfied: packaging&gt;=20.0 in /usr/local/lib/python3.10/dist-packages (from optuna) (24.0)
Requirement already satisfied: sqlalchemy&gt;=1.3.0 in /usr/local/lib/python3.10/dist-packages (from optuna) (2.0.29)
Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from optuna) (4.66.2)
Requirement already satisfied: PyYAML in /usr/local/lib/python3.10/dist-packages (from optuna) (6.0.1)
Collecting Mako (from alembic&gt;=1.5.0-&gt;optuna)
  Downloading Mako-1.3.3-py3-none-any.whl (78 kB)
     <span class="ansi-black-intense-fg">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class="ansi-green-fg">78.8/78.8 kB</span> <span class="ansi-red-fg">8.1 MB/s</span> eta <span class="ansi-cyan-fg">0:00:00</span>
Requirement already satisfied: typing-extensions&gt;=4 in /usr/local/lib/python3.10/dist-packages (from alembic&gt;=1.5.0-&gt;optuna) (4.11.0)
Requirement already satisfied: greenlet!=0.4.17 in /usr/local/lib/python3.10/dist-packages (from sqlalchemy&gt;=1.3.0-&gt;optuna) (3.0.3)
Requirement already satisfied: MarkupSafe&gt;=0.9.2 in /usr/local/lib/python3.10/dist-packages (from Mako-&gt;alembic&gt;=1.5.0-&gt;optuna) (2.1.5)
Installing collected packages: Mako, colorlog, alembic, optuna
Successfully installed Mako-1.3.3 alembic-1.13.1 colorlog-6.8.2 optuna-3.6.1
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Optuna で探索</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span> <span class="c1">#split</span>
<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">optuna</span>
<span class="kn">import</span> <span class="nn">xgboost</span>

<span class="k">def</span> <span class="nf">objective</span><span class="p">(</span><span class="n">trial</span><span class="p">):</span>
  <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">suggest_int</span><span class="p">(</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="s1">&#39;gamma&#39;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">suggest_loguniform</span><span class="p">(</span><span class="s1">&#39;gamma&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="n">trial</span><span class="o">.</span><span class="n">suggest_int</span><span class="p">(</span><span class="s1">&#39;max_depth&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
  <span class="p">}</span>

  <span class="n">model</span> <span class="o">=</span> <span class="n">xgboost</span><span class="o">.</span><span class="n">XGBClassifier</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
  <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

  <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
  <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

  <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">accuracy</span>

<span class="n">study</span> <span class="o">=</span> <span class="n">optuna</span><span class="o">.</span><span class="n">create_study</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s1">&#39;minimize&#39;</span><span class="p">)</span>
<span class="n">study</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">objective</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">best_params</span> <span class="o">=</span> <span class="n">study</span><span class="o">.</span><span class="n">best_params</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Best Parameters:&#39;</span><span class="p">,</span> <span class="n">best_params</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
[I 2024-04-12 01:25:54,588] A new study created in memory with name: no-name-8c8f9ac9-7f8a-4ac8-bc2d-6e45890a932c
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:25:57,449] Trial 0 finished with value: 0.10553664217882097 and parameters: {&#39;n_estimators&#39;: 55, &#39;gamma&#39;: 1.0796799191483775, &#39;max_depth&#39;: 28}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:25:58,531] Trial 1 finished with value: 0.3297796093889984 and parameters: {&#39;n_estimators&#39;: 11, &#39;gamma&#39;: 9.48990367707886, &#39;max_depth&#39;: 11}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:25:59,241] Trial 2 finished with value: 0.1485396882279162 and parameters: {&#39;n_estimators&#39;: 32, &#39;gamma&#39;: 1.4189347178096783, &#39;max_depth&#39;: 32}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:01,280] Trial 3 finished with value: 0.356387744131876 and parameters: {&#39;n_estimators&#39;: 79, &#39;gamma&#39;: 42.724356689344035, &#39;max_depth&#39;: 46}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:02,108] Trial 4 finished with value: 0.33560293854148004 and parameters: {&#39;n_estimators&#39;: 23, &#39;gamma&#39;: 12.26705363492341, &#39;max_depth&#39;: 25}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:03,038] Trial 5 finished with value: 0.35558143701845546 and parameters: {&#39;n_estimators&#39;: 44, &#39;gamma&#39;: 50.93921107305425, &#39;max_depth&#39;: 28}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,231] Trial 6 finished with value: 0.3573732306038344 and parameters: {&#39;n_estimators&#39;: 63, &#39;gamma&#39;: 49.72950212780968, &#39;max_depth&#39;: 43}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,372] Trial 7 finished with value: 0.2805052857910769 and parameters: {&#39;n_estimators&#39;: 56, &#39;gamma&#39;: 3.5812100118211943, &#39;max_depth&#39;: 50}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,542] Trial 8 finished with value: 0.34384518903422323 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 16.445511226050986, &#39;max_depth&#39;: 23}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,669] Trial 9 finished with value: 0.3337215552768321 and parameters: {&#39;n_estimators&#39;: 48, &#39;gamma&#39;: 11.670211230621309, &#39;max_depth&#39;: 39}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:04,861] Trial 10 finished with value: 0.31786418204622824 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.5069542488376422, &#39;max_depth&#39;: 4}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,078] Trial 11 finished with value: 0.10688048736785527 and parameters: {&#39;n_estimators&#39;: 34, &#39;gamma&#39;: 1.0433125541442698, &#39;max_depth&#39;: 34}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,295] Trial 12 finished with value: 0.1074180254434689 and parameters: {&#39;n_estimators&#39;: 34, &#39;gamma&#39;: 1.04709367526484, &#39;max_depth&#39;: 35}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,469] Trial 13 finished with value: 0.27056083139222364 and parameters: {&#39;n_estimators&#39;: 64, &#39;gamma&#39;: 3.2169788667553365, &#39;max_depth&#39;: 18}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,630] Trial 14 finished with value: 0.2746819566385952 and parameters: {&#39;n_estimators&#39;: 40, &#39;gamma&#39;: 3.1301558093604487, &#39;max_depth&#39;: 17}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,789] Trial 15 finished with value: 0.19763483246729974 and parameters: {&#39;n_estimators&#39;: 13, &#39;gamma&#39;: 1.9745185114333867, &#39;max_depth&#39;: 33}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:05,934] Trial 16 finished with value: 0.3024547572119691 and parameters: {&#39;n_estimators&#39;: 26, &#39;gamma&#39;: 4.435148627028425, &#39;max_depth&#39;: 37}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,091] Trial 17 finished with value: 0.31186167353520877 and parameters: {&#39;n_estimators&#39;: 52, &#39;gamma&#39;: 5.698412048255169, &#39;max_depth&#39;: 19}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,345] Trial 18 finished with value: 0.10965776742519262 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.0384768581412989, &#39;max_depth&#39;: 29}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,496] Trial 19 finished with value: 0.34805590395986385 and parameters: {&#39;n_estimators&#39;: 64, &#39;gamma&#39;: 25.030791724423278, &#39;max_depth&#39;: 42}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,679] Trial 20 finished with value: 0.23974198172370542 and parameters: {&#39;n_estimators&#39;: 37, &#39;gamma&#39;: 2.1086998205132086, &#39;max_depth&#39;: 12}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:06,914] Trial 21 finished with value: 0.11306217523741269 and parameters: {&#39;n_estimators&#39;: 30, &#39;gamma&#39;: 1.0323199459545407, &#39;max_depth&#39;: 35}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:07,084] Trial 22 finished with value: 0.21922594517111627 and parameters: {&#39;n_estimators&#39;: 23, &#39;gamma&#39;: 2.199932272176027, &#39;max_depth&#39;: 32}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:08,227] Trial 23 finished with value: 0.3599713313026339 and parameters: {&#39;n_estimators&#39;: 39, &#39;gamma&#39;: 89.76765840463712, &#39;max_depth&#39;: 39}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,113] Trial 24 finished with value: 0.15086901988890877 and parameters: {&#39;n_estimators&#39;: 48, &#39;gamma&#39;: 1.4517147418325125, &#39;max_depth&#39;: 29}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,295] Trial 25 finished with value: 0.31822254076330403 and parameters: {&#39;n_estimators&#39;: 16, &#39;gamma&#39;: 6.47005318230705, &#39;max_depth&#39;: 23}. Best is trial 0 with value: 0.10553664217882097.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,529] Trial 26 finished with value: 0.10526787314101416 and parameters: {&#39;n_estimators&#39;: 56, &#39;gamma&#39;: 1.0492301158588035, &#39;max_depth&#39;: 36}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,716] Trial 27 finished with value: 0.23839813653467123 and parameters: {&#39;n_estimators&#39;: 56, &#39;gamma&#39;: 2.453247628312689, &#39;max_depth&#39;: 42}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:10,926] Trial 28 finished with value: 0.16403870274144416 and parameters: {&#39;n_estimators&#39;: 71, &#39;gamma&#39;: 1.5644719240034393, &#39;max_depth&#39;: 48}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,132] Trial 29 finished with value: 0.3079197276473751 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 5.6420419047882024, &#39;max_depth&#39;: 26}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,349] Trial 30 finished with value: 0.13456369826196024 and parameters: {&#39;n_estimators&#39;: 58, &#39;gamma&#39;: 1.3170949769117952, &#39;max_depth&#39;: 30}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,574] Trial 31 finished with value: 0.10526787314101416 and parameters: {&#39;n_estimators&#39;: 34, &#39;gamma&#39;: 1.0494117076966223, &#39;max_depth&#39;: 36}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,754] Trial 32 finished with value: 0.19584303888192078 and parameters: {&#39;n_estimators&#39;: 46, &#39;gamma&#39;: 1.8278450157764652, &#39;max_depth&#39;: 38}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:11,974] Trial 33 finished with value: 0.14638953592546133 and parameters: {&#39;n_estimators&#39;: 31, &#39;gamma&#39;: 1.2973063278250145, &#39;max_depth&#39;: 33}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,136] Trial 34 finished with value: 0.24350474825300128 and parameters: {&#39;n_estimators&#39;: 18, &#39;gamma&#39;: 2.613918293970717, &#39;max_depth&#39;: 36}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,344] Trial 35 finished with value: 0.12784447231678908 and parameters: {&#39;n_estimators&#39;: 40, &#39;gamma&#39;: 1.2151308628543085, &#39;max_depth&#39;: 44}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,557] Trial 36 finished with value: 0.18446514961476435 and parameters: {&#39;n_estimators&#39;: 69, &#39;gamma&#39;: 1.7468871632626124, &#39;max_depth&#39;: 31}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:12,826] Trial 37 finished with value: 0.10598459057516574 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.0351318577944497, &#39;max_depth&#39;: 40}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,001] Trial 38 finished with value: 0.3269127396523921 and parameters: {&#39;n_estimators&#39;: 85, &#39;gamma&#39;: 8.082930711972068, &#39;max_depth&#39;: 45}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,215] Trial 39 finished with value: 0.285522307830138 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 3.912163444786366, &#39;max_depth&#39;: 40}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,361] Trial 40 finished with value: 0.34474108582691276 and parameters: {&#39;n_estimators&#39;: 53, &#39;gamma&#39;: 17.619811799567596, &#39;max_depth&#39;: 24}. Best is trial 26 with value: 0.10526787314101416.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,617] Trial 41 finished with value: 0.10410320731051781 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.0100551387819243, &#39;max_depth&#39;: 34}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:13,841] Trial 42 finished with value: 0.16583049632682312 and parameters: {&#39;n_estimators&#39;: 78, &#39;gamma&#39;: 1.595263525643434, &#39;max_depth&#39;: 40}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,079] Trial 43 finished with value: 0.12757570327898227 and parameters: {&#39;n_estimators&#39;: 76, &#39;gamma&#39;: 1.273304679215708, &#39;max_depth&#39;: 27}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,349] Trial 44 finished with value: 0.10455115570686258 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.0171210952825256, &#39;max_depth&#39;: 47}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,582] Trial 45 finished with value: 0.18554022576599172 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.753714935220706, &#39;max_depth&#39;: 50}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:14,794] Trial 46 finished with value: 0.24323597921519446 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 2.6647800583765173, &#39;max_depth&#39;: 48}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,028] Trial 47 finished with value: 0.13716179896075975 and parameters: {&#39;n_estimators&#39;: 68, &#39;gamma&#39;: 1.3045367122364546, &#39;max_depth&#39;: 21}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,275] Trial 48 finished with value: 0.13062175237412654 and parameters: {&#39;n_estimators&#39;: 60, &#39;gamma&#39;: 1.2079634481182537, &#39;max_depth&#39;: 47}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,431] Trial 49 finished with value: 0.3285253538792331 and parameters: {&#39;n_estimators&#39;: 61, &#39;gamma&#39;: 2.0269927020914325, &#39;max_depth&#39;: 3}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,631] Trial 50 finished with value: 0.2755778534312847 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 3.120068336629496, &#39;max_depth&#39;: 36}. Best is trial 41 with value: 0.10410320731051781.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:15,889] Trial 51 finished with value: 0.10069879949829774 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.022276344502298, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,164] Trial 52 finished with value: 0.10123633757391148 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0038022958321358, &#39;max_depth&#39;: 43}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,414] Trial 53 finished with value: 0.15490055545601145 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.4789181365534654, &#39;max_depth&#39;: 44}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,691] Trial 54 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0016042295724625, &#39;max_depth&#39;: 42}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:16,959] Trial 55 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0008841216493647, &#39;max_depth&#39;: 42}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,192] Trial 56 finished with value: 0.1566923490413904 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.528341506275303, &#39;max_depth&#39;: 46}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,448] Trial 57 finished with value: 0.13259272531804334 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.2117290969427823, &#39;max_depth&#39;: 42}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,666] Trial 58 finished with value: 0.22397419817237052 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 2.2763747284235576, &#39;max_depth&#39;: 43}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:17,903] Trial 59 finished with value: 0.17550618168786958 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.6990174969324923, &#39;max_depth&#39;: 38}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,157] Trial 60 finished with value: 0.13124888012900915 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.218575662845741, &#39;max_depth&#39;: 50}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,440] Trial 61 finished with value: 0.10455115570686258 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.1337310348503558, &#39;max_depth&#39;: 34}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,699] Trial 62 finished with value: 0.12139401540942485 and parameters: {&#39;n_estimators&#39;: 80, &#39;gamma&#39;: 1.1501422410910391, &#39;max_depth&#39;: 34}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:18,966] Trial 63 finished with value: 0.10078838917756672 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.0214564403767867, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,204] Trial 64 finished with value: 0.15660275936212154 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.4538459789267724, &#39;max_depth&#39;: 46}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,456] Trial 65 finished with value: 0.1964701666368034 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.8662321928009011, &#39;max_depth&#39;: 40}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,631] Trial 66 finished with value: 0.35459595054649706 and parameters: {&#39;n_estimators&#39;: 78, &#39;gamma&#39;: 35.20191211228863, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:19,876] Trial 67 finished with value: 0.15391506898405305 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.417531367498882, &#39;max_depth&#39;: 44}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:20,139] Trial 68 finished with value: 0.12139401540942485 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.1504164205074288, &#39;max_depth&#39;: 38}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:21,638] Trial 69 finished with value: 0.14934599534133663 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.3817810381778437, &#39;max_depth&#39;: 49}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:23,112] Trial 70 finished with value: 0.10231141372513886 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.004177672638135, &#39;max_depth&#39;: 46}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:23,658] Trial 71 finished with value: 0.10625335961297255 and parameters: {&#39;n_estimators&#39;: 72, &#39;gamma&#39;: 1.026681494966313, &#39;max_depth&#39;: 45}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:23,916] Trial 72 finished with value: 0.1182583766350116 and parameters: {&#39;n_estimators&#39;: 81, &#39;gamma&#39;: 1.1228275042528824, &#39;max_depth&#39;: 47}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:24,155] Trial 73 finished with value: 0.14208923132055185 and parameters: {&#39;n_estimators&#39;: 76, &#39;gamma&#39;: 1.3690837171261891, &#39;max_depth&#39;: 43}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:24,901] Trial 74 finished with value: 0.3620318939258197 and parameters: {&#39;n_estimators&#39;: 66, &#39;gamma&#39;: 76.30333528845499, &#39;max_depth&#39;: 6}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:27,910] Trial 75 finished with value: 0.18123992116108223 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.6583963891140485, &#39;max_depth&#39;: 45}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:29,868] Trial 76 finished with value: 0.10231141372513886 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.0041094588436081, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:32,553] Trial 77 finished with value: 0.20838559397957357 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 2.0010589542142125, &#39;max_depth&#39;: 39}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:38,358] Trial 78 finished with value: 0.12461924386310697 and parameters: {&#39;n_estimators&#39;: 75, &#39;gamma&#39;: 1.1668404837262567, &#39;max_depth&#39;: 48}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:40,560] Trial 79 finished with value: 0.13474287762049808 and parameters: {&#39;n_estimators&#39;: 79, &#39;gamma&#39;: 1.3146406887938278, &#39;max_depth&#39;: 37}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:43,345] Trial 80 finished with value: 0.1661888550438989 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.5549028812521357, &#39;max_depth&#39;: 32}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:43,719] Trial 81 finished with value: 0.10697007704712413 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.1024724298231026, &#39;max_depth&#39;: 41}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:45,142] Trial 82 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 86, &#39;gamma&#39;: 1.0015209445095141, &#39;max_depth&#39;: 47}. Best is trial 51 with value: 0.10069879949829774.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:47,455] Trial 83 finished with value: 0.09487547034581612 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0046522590476756, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:50,552] Trial 84 finished with value: 0.13492205697903603 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.2932419562719661, &#39;max_depth&#39;: 34}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,262] Trial 85 finished with value: 0.11458519978498471 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.1387305112575477, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,424] Trial 86 finished with value: 0.3423221644866511 and parameters: {&#39;n_estimators&#39;: 72, &#39;gamma&#39;: 17.55620828338389, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,629] Trial 87 finished with value: 0.332108941049991 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 10.8608315423399, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:51,866] Trial 88 finished with value: 0.17362479842322165 and parameters: {&#39;n_estimators&#39;: 83, &#39;gamma&#39;: 1.636847136846866, &#39;max_depth&#39;: 38}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,129] Trial 89 finished with value: 0.12479842322164492 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.1377800996630514, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,379] Trial 90 finished with value: 0.15051066117183298 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.4411983261179153, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,687] Trial 91 finished with value: 0.1074180254434689 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0093329274736222, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:52,956] Trial 92 finished with value: 0.12757570327898227 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.2734850838140404, &#39;max_depth&#39;: 37}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,232] Trial 93 finished with value: 0.10311772083855941 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0099394989049668, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,500] Trial 94 finished with value: 0.11807919727647376 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.157813719355549, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,770] Trial 95 finished with value: 0.14432897330227556 and parameters: {&#39;n_estimators&#39;: 78, &#39;gamma&#39;: 1.3133200228338346, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:53,968] Trial 96 finished with value: 0.3407095502598101 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 14.637137725318652, &#39;max_depth&#39;: 35}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,231] Trial 97 finished with value: 0.10777638416054469 and parameters: {&#39;n_estimators&#39;: 84, &#39;gamma&#39;: 1.0950561686059663, &#39;max_depth&#39;: 28}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,460] Trial 98 finished with value: 0.16896613510123637 and parameters: {&#39;n_estimators&#39;: 81, &#39;gamma&#39;: 1.5170028515371445, &#39;max_depth&#39;: 31}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,687] Trial 99 finished with value: 0.20623544167711882 and parameters: {&#39;n_estimators&#39;: 70, &#39;gamma&#39;: 1.9053704342147033, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:54,947] Trial 100 finished with value: 0.1448665113778893 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.263193582530792, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:55,221] Trial 101 finished with value: 0.1005196201397599 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.002422056863379, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:55,499] Trial 102 finished with value: 0.10858269127396525 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.0017696861716026, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:55,775] Trial 103 finished with value: 0.14710625335961303 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.1046988331545946, &#39;max_depth&#39;: 14}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,047] Trial 104 finished with value: 0.1257839096936033 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.2211151073619844, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,289] Trial 105 finished with value: 0.14468733201935136 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.389721908021973, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,561] Trial 106 finished with value: 0.12067729797527327 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.1195761028540496, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,756] Trial 107 finished with value: 0.34671205877082956 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 22.5278915019235, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:56,945] Trial 108 finished with value: 0.3285253538792331 and parameters: {&#39;n_estimators&#39;: 85, &#39;gamma&#39;: 9.013350363977429, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,185] Trial 109 finished with value: 0.18016484500985486 and parameters: {&#39;n_estimators&#39;: 80, &#39;gamma&#39;: 1.6885805416016817, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,377] Trial 110 finished with value: 0.2979752732485218 and parameters: {&#39;n_estimators&#39;: 77, &#39;gamma&#39;: 4.68343206121197, &#39;max_depth&#39;: 37}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,655] Trial 111 finished with value: 0.10329690019709725 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0104581767665894, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:57,970] Trial 112 finished with value: 0.1064325389715105 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.089739305596776, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:58,232] Trial 113 finished with value: 0.13062175237412654 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2088678554703487, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:58,495] Trial 114 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.0008865080855056, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:58,735] Trial 115 finished with value: 0.14871886758645403 and parameters: {&#39;n_estimators&#39;: 74, &#39;gamma&#39;: 1.3909007128198374, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,020] Trial 116 finished with value: 0.12918831750582338 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.2271928483392283, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,284] Trial 117 finished with value: 0.10777638416054469 and parameters: {&#39;n_estimators&#39;: 83, &#39;gamma&#39;: 1.0941857196055687, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,535] Trial 118 finished with value: 0.1455832288120409 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.3437387987434946, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:26:59,763] Trial 119 finished with value: 0.1613510123633758 and parameters: {&#39;n_estimators&#39;: 67, &#39;gamma&#39;: 1.523238042690833, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,051] Trial 120 finished with value: 0.12829242071313385 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.1839936160392588, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,341] Trial 121 finished with value: 0.10634294929224153 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.0185820558203353, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,617] Trial 122 finished with value: 0.1058054112166279 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0071568317770963, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:00,915] Trial 123 finished with value: 0.11198709908618532 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.1062377969991881, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:01,198] Trial 124 finished with value: 0.1373409783192976 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.2811126021961607, &#39;max_depth&#39;: 38}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,100] Trial 125 finished with value: 0.1064325389715105 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.089399500044039, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,475] Trial 126 finished with value: 0.12802365167532703 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.204694599466418, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,738] Trial 127 finished with value: 0.1484500985486472 and parameters: {&#39;n_estimators&#39;: 85, &#39;gamma&#39;: 1.376539409782593, &#39;max_depth&#39;: 36}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:04,974] Trial 128 finished with value: 0.15740906647554198 and parameters: {&#39;n_estimators&#39;: 82, &#39;gamma&#39;: 1.4718635718389703, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:05,275] Trial 129 finished with value: 0.11324135459595053 and parameters: {&#39;n_estimators&#39;: 88, &#39;gamma&#39;: 1.0707427254384851, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:05,561] Trial 130 finished with value: 0.10123633757391148 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0038425851262691, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:05,841] Trial 131 finished with value: 0.10365525891417304 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0152975121715873, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,139] Trial 132 finished with value: 0.10123633757391148 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.003962256478751, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,409] Trial 133 finished with value: 0.12802365167532703 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.2046868835451778, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,688] Trial 134 finished with value: 0.10732843576419993 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0759725468707986, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:06,980] Trial 135 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.0007060981748803, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:07,256] Trial 136 finished with value: 0.13707220928149078 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2807272323685315, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:07,523] Trial 137 finished with value: 0.12721734456190648 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.178583931460502, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:07,821] Trial 138 finished with value: 0.10266977244221465 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0051144384553639, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,074] Trial 139 finished with value: 0.14692707400107508 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.3248333139840842, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,343] Trial 140 finished with value: 0.17452069521591118 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.5886251620722047, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,623] Trial 141 finished with value: 0.10876187063250309 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.0965424850068157, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:08,917] Trial 142 finished with value: 0.0995341336678015 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0203668432693611, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:09,198] Trial 143 finished with value: 0.12605267873141013 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.1859887689556792, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:09,491] Trial 144 finished with value: 0.11243504748252997 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.0927019918669838, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:09,779] Trial 145 finished with value: 0.09998208206414616 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0254975544969274, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,049] Trial 146 finished with value: 0.12918831750582338 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.2284135205995343, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,358] Trial 147 finished with value: 0.11055366421788215 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0900566586257823, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,642] Trial 148 finished with value: 0.10661171833004834 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.0014569081073337, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:10,922] Trial 149 finished with value: 0.14477692169862033 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.3698978105807775, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:11,193] Trial 150 finished with value: 0.11503314818132948 and parameters: {&#39;n_estimators&#39;: 90, &#39;gamma&#39;: 1.1744963210177972, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:11,497] Trial 151 finished with value: 0.10141551693244943 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.011115290831993, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:11,786] Trial 152 finished with value: 0.10777638416054469 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.093939917996184, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,068] Trial 153 finished with value: 0.10266977244221465 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.00660983471098, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,372] Trial 154 finished with value: 0.13115929044974017 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.252140394111563, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,647] Trial 155 finished with value: 0.11816878695574273 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.1704553746085868, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:12,886] Trial 156 finished with value: 0.15454219673893566 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.414679581470132, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,189] Trial 157 finished with value: 0.0998924923848773 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0125258414287104, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,414] Trial 158 finished with value: 0.31723705429134563 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 6.611645122975273, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,694] Trial 159 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.0016672853199802, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:13,984] Trial 160 finished with value: 0.11691453144597741 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.133516498405422, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:14,260] Trial 161 finished with value: 0.10661171833004834 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0013233730253777, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:15,727] Trial 162 finished with value: 0.13474287762049808 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.2772817006168644, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:17,612] Trial 163 finished with value: 0.11601863465328799 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.1157521690595065, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:17,797] Trial 164 finished with value: 0.35459595054649706 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 39.04545490944397, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,078] Trial 165 finished with value: 0.10034044078122195 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.0021333322091552, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,338] Trial 166 finished with value: 0.12148360508869382 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.1721705358443726, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,637] Trial 167 finished with value: 0.10401361763124883 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.000992397900244, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:18,901] Trial 168 finished with value: 0.1373409783192976 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.2808746759488525, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:19,183] Trial 169 finished with value: 0.12228991220211427 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.1074321732596328, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:19,449] Trial 170 finished with value: 0.1537358896255151 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.453944639665667, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:19,749] Trial 171 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0820047896611509, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,032] Trial 172 finished with value: 0.10983694678373046 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.0811997797458366, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,296] Trial 173 finished with value: 0.13115929044974017 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.2041652657025557, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,575] Trial 174 finished with value: 0.0998924923848773 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.0125143801062901, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:20,857] Trial 175 finished with value: 0.135011646658305 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2967554132464358, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,129] Trial 176 finished with value: 0.1258734993728723 and parameters: {&#39;n_estimators&#39;: 89, &#39;gamma&#39;: 1.1561994308038588, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,439] Trial 177 finished with value: 0.10365525891417304 and parameters: {&#39;n_estimators&#39;: 87, &#39;gamma&#39;: 1.0150076511534978, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,703] Trial 178 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 52, &#39;gamma&#39;: 1.000664685006807, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:21,980] Trial 179 finished with value: 0.11736247984232218 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.1207084558428206, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:22,247] Trial 180 finished with value: 0.12838201039240282 and parameters: {&#39;n_estimators&#39;: 92, &#39;gamma&#39;: 1.2573058842275513, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:22,521] Trial 181 finished with value: 0.11530191721913641 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.108444368547217, &#39;max_depth&#39;: 40}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:22,828] Trial 182 finished with value: 0.1050886937824762 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.001700808294109, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,033] Trial 183 finished with value: 0.11315176491668155 and parameters: {&#39;n_estimators&#39;: 10, &#39;gamma&#39;: 1.0005640432630551, &#39;max_depth&#39;: 42}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,297] Trial 184 finished with value: 0.1251567819387207 and parameters: {&#39;n_estimators&#39;: 94, &#39;gamma&#39;: 1.197682718955403, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,594] Trial 185 finished with value: 0.11073284357641999 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.1036206208513024, &#39;max_depth&#39;: 41}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:23,886] Trial 186 finished with value: 0.10965776742519262 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.088932025658422, &#39;max_depth&#39;: 45}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,074] Trial 187 finished with value: 0.3606880487367855 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 66.04859552481543, &#39;max_depth&#39;: 46}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,294] Trial 188 finished with value: 0.148808457265723 and parameters: {&#39;n_estimators&#39;: 48, &#39;gamma&#39;: 1.3631790833600683, &#39;max_depth&#39;: 49}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,557] Trial 189 finished with value: 0.13124888012900915 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.2186167680071842, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:24,850] Trial 190 finished with value: 0.11306217523741269 and parameters: {&#39;n_estimators&#39;: 96, &#39;gamma&#39;: 1.0795866130054708, &#39;max_depth&#39;: 39}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:25,135] Trial 191 finished with value: 0.10992653646299944 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.0006277288307286, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:25,412] Trial 192 finished with value: 0.10266977244221465 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0056546065424803, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:25,708] Trial 193 finished with value: 0.11861673535208739 and parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.1585796184691262, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,012] Trial 194 finished with value: 0.10983694678373046 and parameters: {&#39;n_estimators&#39;: 93, &#39;gamma&#39;: 1.081350349075206, &#39;max_depth&#39;: 50}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,285] Trial 195 finished with value: 0.12703816520336852 and parameters: {&#39;n_estimators&#39;: 98, &#39;gamma&#39;: 1.1894477086832196, &#39;max_depth&#39;: 44}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,551] Trial 196 finished with value: 0.11028489518007523 and parameters: {&#39;n_estimators&#39;: 91, &#39;gamma&#39;: 1.077923975462786, &#39;max_depth&#39;: 47}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:26,821] Trial 197 finished with value: 0.1428955384339724 and parameters: {&#39;n_estimators&#39;: 95, &#39;gamma&#39;: 1.3022819141008946, &#39;max_depth&#39;: 43}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:27,122] Trial 198 finished with value: 0.10311772083855941 and parameters: {&#39;n_estimators&#39;: 99, &#39;gamma&#39;: 1.0097798751457339, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
&lt;ipython-input-105-a60ca129bc7b&gt;:11: FutureWarning: suggest_loguniform has been deprecated in v3.0.0. This feature will be removed in v6.0.0. See https://github.com/optuna/optuna/releases/tag/v3.0.0. Use suggest_float(..., log=True) instead.
  &#39;gamma&#39;: trial.suggest_loguniform(&#39;gamma&#39;, 1, 100),
[I 2024-04-12 01:27:27,418] Trial 199 finished with value: 0.10858269127396525 and parameters: {&#39;n_estimators&#39;: 100, &#39;gamma&#39;: 1.0017993176115394, &#39;max_depth&#39;: 48}. Best is trial 83 with value: 0.09487547034581612.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Best Parameters: {&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0046522590476756, &#39;max_depth&#39;: 41}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><br/><span></span><span class="c1"># 最適なパラメータを適用したモデルの宣言</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">xgboost</span><span class="o">.</span><span class="n">XGBClassifier</span><span class="p">(</span><span class="o">**</span><span class="n">best_params</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">best_params</span><span class="p">)</span>

<span class="c1"># モデルの学習</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># モデルの予測</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># モデルの評価</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Accuracy:&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;n_estimators&#39;: 97, &#39;gamma&#39;: 1.0046522590476756, &#39;max_depth&#39;: 41}
Accuracy: 0.9051245296541839
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># モデルの影響度</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">importances</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">feature_importances_</span>

<span class="c1"># Create a list of column names</span>
<span class="n">column_names</span> <span class="o">=</span> <span class="n">mldata</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;成約の有無&#39;</span><span class="p">,</span><span class="s1">&#39;売上&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># Create a DataFrame with the column names and importances</span>
<span class="n">importance_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Column Name&#39;</span><span class="p">:</span> <span class="n">column_names</span><span class="p">,</span> <span class="s1">&#39;Importance&#39;</span><span class="p">:</span> <span class="n">importances</span><span class="p">})</span>

<span class="c1"># Sort the DataFrame by the importance values</span>
<span class="n">importance_df</span> <span class="o">=</span> <span class="n">importance_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Importance&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot the importances</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Importance&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Column Name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">importance_df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Feature Importances&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Importance Value&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Column Name&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/src_04_69_0.png" src="../_images/src_04_69_0.png" />
</div>
</div>
<p>重回帰分析まで一緒に行って、２周目を受講者に演習かなーと思ってます</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, trainocate.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>